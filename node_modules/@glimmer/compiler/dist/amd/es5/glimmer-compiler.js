define('@glimmer/compiler', ['exports', '@glimmer/util', '@glimmer/wire-format', '@glimmer/syntax'], function (exports, util, wireFormat, syntax) { 'use strict';

    var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

    function _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }

    function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

    function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }

    function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
    var SymbolTable = function () {
        function SymbolTable() {
            _classCallCheck(this, SymbolTable);
        }

        SymbolTable.top = function top() {
            return new ProgramSymbolTable();
        };

        SymbolTable.prototype.child = function child(locals) {
            var _this = this;

            var symbols = locals.map(function (name) {
                return _this.allocate(name);
            });
            return new BlockSymbolTable(this, locals, symbols);
        };

        return SymbolTable;
    }();
    var ProgramSymbolTable = function (_SymbolTable) {
        _inherits(ProgramSymbolTable, _SymbolTable);

        function ProgramSymbolTable() {
            _classCallCheck(this, ProgramSymbolTable);

            var _this2 = _possibleConstructorReturn(this, _SymbolTable.apply(this, arguments));

            _this2.symbols = [];
            _this2.size = 1;
            _this2.named = util.dict();
            _this2.blocks = util.dict();
            return _this2;
        }

        ProgramSymbolTable.prototype.has = function has(_name) {
            return false;
        };

        ProgramSymbolTable.prototype.get = function get(_name) {
            throw util.unreachable();
        };

        ProgramSymbolTable.prototype.getLocalsMap = function getLocalsMap() {
            return {};
        };

        ProgramSymbolTable.prototype.getEvalInfo = function getEvalInfo() {
            return [];
        };

        ProgramSymbolTable.prototype.allocateNamed = function allocateNamed(name) {
            var named = this.named[name];
            if (!named) {
                named = this.named[name] = this.allocate(name);
            }
            return named;
        };

        ProgramSymbolTable.prototype.allocateBlock = function allocateBlock(name) {
            if (name === 'inverse') {
                name = 'else';
            }
            var block = this.blocks[name];
            if (!block) {
                block = this.blocks[name] = this.allocate('&' + name);
            }
            return block;
        };

        ProgramSymbolTable.prototype.allocate = function allocate(identifier) {
            this.symbols.push(identifier);
            return this.size++;
        };

        return ProgramSymbolTable;
    }(SymbolTable);
    var BlockSymbolTable = function (_SymbolTable2) {
        _inherits(BlockSymbolTable, _SymbolTable2);

        function BlockSymbolTable(parent, symbols, slots) {
            _classCallCheck(this, BlockSymbolTable);

            var _this3 = _possibleConstructorReturn(this, _SymbolTable2.call(this));

            _this3.parent = parent;
            _this3.symbols = symbols;
            _this3.slots = slots;
            return _this3;
        }

        BlockSymbolTable.prototype.has = function has(name) {
            return this.symbols.indexOf(name) !== -1 || this.parent.has(name);
        };

        BlockSymbolTable.prototype.get = function get(name) {
            var slot = this.symbols.indexOf(name);
            return slot === -1 ? this.parent.get(name) : this.slots[slot];
        };

        BlockSymbolTable.prototype.getLocalsMap = function getLocalsMap() {
            var _this4 = this;

            var dict = this.parent.getLocalsMap();
            this.symbols.forEach(function (symbol) {
                return dict[symbol] = _this4.get(symbol);
            });
            return dict;
        };

        BlockSymbolTable.prototype.getEvalInfo = function getEvalInfo() {
            var locals = this.getLocalsMap();
            return Object.keys(locals).map(function (symbol) {
                return locals[symbol];
            });
        };

        BlockSymbolTable.prototype.allocateNamed = function allocateNamed(name) {
            return this.parent.allocateNamed(name);
        };

        BlockSymbolTable.prototype.allocateBlock = function allocateBlock(name) {
            return this.parent.allocateBlock(name);
        };

        BlockSymbolTable.prototype.allocate = function allocate(identifier) {
            return this.parent.allocate(identifier);
        };

        return BlockSymbolTable;
    }(SymbolTable);
    /**
     * Takes in an AST and outputs a list of actions to be consumed
     * by a compiler. For example, the template
     *
     *     foo{{bar}}<div>baz</div>
     *
     * produces the actions
     *
     *     [['startProgram', [programNode, 0]],
     *      ['text', [textNode, 0, 3]],
     *      ['mustache', [mustacheNode, 1, 3]],
     *      ['openElement', [elementNode, 2, 3, 0]],
     *      ['text', [textNode, 0, 1]],
     *      ['closeElement', [elementNode, 2, 3],
     *      ['endProgram', [programNode]]]
     *
     * This visitor walks the AST depth first and backwards. As
     * a result the bottom-most child template will appear at the
     * top of the actions list whereas the root template will appear
     * at the bottom of the list. For example,
     *
     *     <div>{{#if}}foo{{else}}bar<b></b>{{/if}}</div>
     *
     * produces the actions
     *
     *     [['startProgram', [programNode, 0]],
     *      ['text', [textNode, 0, 2, 0]],
     *      ['openElement', [elementNode, 1, 2, 0]],
     *      ['closeElement', [elementNode, 1, 2]],
     *      ['endProgram', [programNode]],
     *      ['startProgram', [programNode, 0]],
     *      ['text', [textNode, 0, 1]],
     *      ['endProgram', [programNode]],
     *      ['startProgram', [programNode, 2]],
     *      ['openElement', [elementNode, 0, 1, 1]],
     *      ['block', [blockNode, 0, 1]],
     *      ['closeElement', [elementNode, 0, 1]],
     *      ['endProgram', [programNode]]]
     *
     * The state of the traversal is maintained by a stack of frames.
     * Whenever a node with children is entered (either a ProgramNode
     * or an ElementNode) a frame is pushed onto the stack. The frame
     * contains information about the state of the traversal of that
     * node. For example,
     *
     *   - index of the current child node being visited
     *   - the number of mustaches contained within its child nodes
     *   - the list of actions generated by its child nodes
     */

    var Frame = function Frame() {
        _classCallCheck(this, Frame);

        this.parentNode = null;
        this.children = null;
        this.childIndex = null;
        this.childCount = null;
        this.childTemplateCount = 0;
        this.mustacheCount = 0;
        this.actions = [];
        this.blankChildTextNodes = null;
        this.symbols = null;
    };

    var TemplateVisitor = function () {
        function TemplateVisitor() {
            _classCallCheck(this, TemplateVisitor);

            this.frameStack = [];
            this.actions = [];
            this.programDepth = -1;
        }

        TemplateVisitor.prototype.visit = function visit(node) {
            this[node.type](node);
        };
        // Traversal methods


        TemplateVisitor.prototype.Block = function Block(program) {
            return this.anyBlock(program);
        };

        TemplateVisitor.prototype.Template = function Template(program) {
            return this.anyBlock(program);
        };

        TemplateVisitor.prototype.anyBlock = function anyBlock(program) {
            var _actions;

            this.programDepth++;
            var parentFrame = this.getCurrentFrame();
            var programFrame = this.pushFrame();
            if (!parentFrame) {
                program.symbols = SymbolTable.top();
            } else {
                program.symbols = parentFrame.symbols.child(program.blockParams);
            }
            var startType = void 0,
                endType = void 0;
            if (this.programDepth === 0) {
                startType = 'startProgram';
                endType = 'endProgram';
            } else {
                startType = 'startBlock';
                endType = 'endBlock';
            }
            programFrame.parentNode = program;
            programFrame.children = program.body;
            programFrame.childCount = program.body.length;
            programFrame.blankChildTextNodes = [];
            programFrame.actions.push([endType, [program, this.programDepth]]);
            programFrame.symbols = program['symbols'];
            for (var i = program.body.length - 1; i >= 0; i--) {
                programFrame.childIndex = i;
                this.visit(program.body[i]);
            }
            programFrame.actions.push([startType, [program, programFrame.childTemplateCount, programFrame.blankChildTextNodes.reverse()]]);
            this.popFrame();
            this.programDepth--;
            // Push the completed template into the global actions list
            if (parentFrame) {
                parentFrame.childTemplateCount++;
            }
            (_actions = this.actions).push.apply(_actions, programFrame.actions.reverse());
        };

        TemplateVisitor.prototype.ElementNode = function ElementNode(element) {
            var _parentFrame$actions;

            var parentFrame = this.currentFrame;
            var elementFrame = this.pushFrame();
            elementFrame.parentNode = element;
            elementFrame.children = element.children;
            elementFrame.childCount = element.children.length;
            elementFrame.mustacheCount += element.modifiers.length;
            elementFrame.blankChildTextNodes = [];
            elementFrame.symbols = element.symbols = parentFrame.symbols.child(element.blockParams);
            var actionArgs = [element, parentFrame.childIndex, parentFrame.childCount];
            elementFrame.actions.push(['closeElement', actionArgs]);
            for (var i = element.attributes.length - 1; i >= 0; i--) {
                this.visit(element.attributes[i]);
            }
            for (var _i = element.children.length - 1; _i >= 0; _i--) {
                elementFrame.childIndex = _i;
                this.visit(element.children[_i]);
            }
            var open = ['openElement', [].concat(actionArgs, [elementFrame.mustacheCount, elementFrame.blankChildTextNodes.reverse()])];
            elementFrame.actions.push(open);
            this.popFrame();
            // Propagate the element's frame state to the parent frame
            if (elementFrame.mustacheCount > 0) {
                parentFrame.mustacheCount++;
            }
            parentFrame.childTemplateCount += elementFrame.childTemplateCount;
            (_parentFrame$actions = parentFrame.actions).push.apply(_parentFrame$actions, elementFrame.actions);
        };

        TemplateVisitor.prototype.AttrNode = function AttrNode(attr) {
            if (attr.value.type !== 'TextNode') {
                this.currentFrame.mustacheCount++;
            }
        };

        TemplateVisitor.prototype.TextNode = function TextNode(text) {
            var frame = this.currentFrame;
            if (text.chars === '') {
                frame.blankChildTextNodes.push(domIndexOf(frame.children, text));
            }
            frame.actions.push(['text', [text, frame.childIndex, frame.childCount]]);
        };

        TemplateVisitor.prototype.BlockStatement = function BlockStatement(node) {
            var frame = this.currentFrame;
            frame.mustacheCount++;
            frame.actions.push(['block', [node, frame.childIndex, frame.childCount]]);
            if (node.inverse) {
                this.visit(node.inverse);
            }
            if (node.program) {
                this.visit(node.program);
            }
        };

        TemplateVisitor.prototype.PartialStatement = function PartialStatement(node) {
            var frame = this.currentFrame;
            frame.mustacheCount++;
            frame.actions.push(['mustache', [node, frame.childIndex, frame.childCount]]);
        };

        TemplateVisitor.prototype.CommentStatement = function CommentStatement(text) {
            var frame = this.currentFrame;
            frame.actions.push(['comment', [text, frame.childIndex, frame.childCount]]);
        };

        TemplateVisitor.prototype.MustacheCommentStatement = function MustacheCommentStatement() {
            // Intentional empty: Handlebars comments should not affect output.
        };

        TemplateVisitor.prototype.MustacheStatement = function MustacheStatement(mustache) {
            var frame = this.currentFrame;
            frame.mustacheCount++;
            frame.actions.push(['mustache', [mustache, frame.childIndex, frame.childCount]]);
        };
        // Frame helpers


        TemplateVisitor.prototype.getCurrentFrame = function getCurrentFrame() {
            return this.frameStack[this.frameStack.length - 1];
        };

        TemplateVisitor.prototype.pushFrame = function pushFrame() {
            var frame = new Frame();
            this.frameStack.push(frame);
            return frame;
        };

        TemplateVisitor.prototype.popFrame = function popFrame() {
            return this.frameStack.pop();
        };

        _createClass(TemplateVisitor, [{
            key: 'currentFrame',
            get: function get() {
                return this.getCurrentFrame();
            }
        }]);

        return TemplateVisitor;
    }();
    function domIndexOf(nodes, domNode) {
        var index = -1;
        for (var i = 0; i < nodes.length; i++) {
            var node = nodes[i];
            if (node.type !== 'TextNode' && node.type !== 'ElementNode') {
                continue;
            } else {
                index++;
            }
            if (node === domNode) {
                return index;
            }
        }
        return -1;
    }

    var _createClass$1 = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

    function _defaults$1(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }

    function _possibleConstructorReturn$1(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

    function _inherits$1(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults$1(subClass, superClass); }

    function _classCallCheck$1(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
    var Block = function () {
        function Block() {
            _classCallCheck$1(this, Block);

            this.statements = [];
        }

        Block.prototype.push = function push(statement) {
            this.statements.push(statement);
        };

        return Block;
    }();
    var InlineBlock = function (_Block) {
        _inherits$1(InlineBlock, _Block);

        function InlineBlock(table) {
            _classCallCheck$1(this, InlineBlock);

            var _this = _possibleConstructorReturn$1(this, _Block.call(this));

            _this.table = table;
            return _this;
        }

        InlineBlock.prototype.toJSON = function toJSON() {
            return {
                statements: this.statements,
                parameters: this.table.slots
            };
        };

        return InlineBlock;
    }(Block);
    var NamedBlock = function (_InlineBlock) {
        _inherits$1(NamedBlock, _InlineBlock);

        function NamedBlock(name, table) {
            _classCallCheck$1(this, NamedBlock);

            var _this2 = _possibleConstructorReturn$1(this, _InlineBlock.call(this, table));

            _this2.name = name;
            return _this2;
        }

        return NamedBlock;
    }(InlineBlock);
    var TemplateBlock = function (_Block2) {
        _inherits$1(TemplateBlock, _Block2);

        function TemplateBlock(symbolTable) {
            _classCallCheck$1(this, TemplateBlock);

            var _this3 = _possibleConstructorReturn$1(this, _Block2.call(this));

            _this3.symbolTable = symbolTable;
            _this3.type = 'template';
            _this3.yields = new util.DictSet();
            _this3.named = new util.DictSet();
            _this3.blocks = [];
            _this3.hasEval = false;
            return _this3;
        }

        TemplateBlock.prototype.push = function push(statement) {
            this.statements.push(statement);
        };

        TemplateBlock.prototype.toJSON = function toJSON() {
            return {
                symbols: this.symbolTable.symbols,
                statements: this.statements,
                hasEval: this.hasEval
            };
        };

        return TemplateBlock;
    }(Block);
    var ComponentBlock = function (_Block3) {
        _inherits$1(ComponentBlock, _Block3);

        function ComponentBlock(tag, table, selfClosing) {
            _classCallCheck$1(this, ComponentBlock);

            var _this4 = _possibleConstructorReturn$1(this, _Block3.call(this));

            _this4.tag = tag;
            _this4.table = table;
            _this4.selfClosing = selfClosing;
            _this4.attributes = [];
            _this4.arguments = [];
            _this4.inParams = true;
            _this4.positionals = [];
            _this4.blocks = [];
            return _this4;
        }

        ComponentBlock.prototype.push = function push(statement) {
            if (this.inParams) {
                if (wireFormat.isFlushElement(statement)) {
                    this.inParams = false;
                } else if (wireFormat.isArgument(statement)) {
                    this.arguments.push(statement);
                } else if (wireFormat.isAttribute(statement)) {
                    this.attributes.push(statement);
                } else {
                    throw new Error('Compile Error: only parameters allowed before flush-element');
                }
            } else {
                this.statements.push(statement);
            }
        };

        ComponentBlock.prototype.pushBlock = function pushBlock(name, block) {
            this.blocks.push([name, block]);
        };

        ComponentBlock.prototype.toJSON = function toJSON() {
            var blocks = void 0;
            var args = this.arguments;
            var keys = args.map(function (arg) {
                return arg[1];
            });
            var values = args.map(function (arg) {
                return arg[2];
            });
            if (this.selfClosing) {
                blocks = null;
            } else if (this.blocks.length > 0) {
                var _keys = [];
                var _values = [];
                for (var i = 0; i < this.blocks.length; i++) {
                    var _blocks$i = this.blocks[i],
                        key = _blocks$i[0],
                        value = _blocks$i[1];

                    _keys.push(key.slice(1));
                    _values.push(value);
                }
                blocks = [_keys, _values];
            } else {
                blocks = [['default'], [{
                    statements: this.statements,
                    parameters: this.table.slots
                }]];
            }
            return [this.tag, this.attributes, [keys, values], blocks];
        };

        return ComponentBlock;
    }(Block);
    var Template = function () {
        function Template(symbols) {
            _classCallCheck$1(this, Template);

            this.block = new TemplateBlock(symbols);
        }

        Template.prototype.toJSON = function toJSON() {
            return this.block.toJSON();
        };

        return Template;
    }();

    var JavaScriptCompiler = function () {
        function JavaScriptCompiler(opcodes, symbols, options) {
            _classCallCheck$1(this, JavaScriptCompiler);

            this.blocks = new util.Stack();
            this.values = [];
            this.opcodes = opcodes;
            this.template = new Template(symbols);
            this.options = options;
        }

        JavaScriptCompiler.process = function process(opcodes, symbols, options) {
            var compiler = new JavaScriptCompiler(opcodes, symbols, options);
            return compiler.process();
        };

        JavaScriptCompiler.prototype.process = function process() {
            var _this5 = this;

            this.opcodes.forEach(function (op) {
                var opcode = op[0];
                var arg = op[1];
                if (!_this5[opcode]) {
                    throw new Error('unimplemented ' + opcode + ' on JavaScriptCompiler');
                }
                _this5[opcode](arg);
            });
            return this.template;
        };
        /// Nesting


        JavaScriptCompiler.prototype.startBlock = function startBlock(program) {
            this.startInlineBlock(program.symbols);
        };

        JavaScriptCompiler.prototype.endBlock = function endBlock() {
            var block = this.endInlineBlock();
            this.template.block.blocks.push(block);
        };

        JavaScriptCompiler.prototype.startProgram = function startProgram() {
            this.blocks.push(this.template.block);
        };

        JavaScriptCompiler.prototype.endProgram = function endProgram() {};
        /// Statements


        JavaScriptCompiler.prototype.text = function text(content) {
            this.push([0 /* Text */, content]);
        };

        JavaScriptCompiler.prototype.append = function append(trusted) {
            this.push([1 /* Append */, this.popValue(), trusted]);
        };

        JavaScriptCompiler.prototype.comment = function comment(value) {
            this.push([2 /* Comment */, value]);
        };

        JavaScriptCompiler.prototype.modifier = function modifier(name) {
            var params = this.popValue();
            var hash = this.popValue();
            this.push([3 /* Modifier */, name, params, hash]);
        };

        JavaScriptCompiler.prototype.block = function block(_ref) {
            var name = _ref[0],
                template = _ref[1],
                inverse = _ref[2];

            var params = this.popValue();
            var hash = this.popValue();
            var blocks = this.template.block.blocks;

            var namedBlocks = void 0;
            if (template === null && inverse === null) {
                namedBlocks = null;
            } else if (inverse === null) {
                namedBlocks = [['default'], [blocks[template]]];
            } else {
                namedBlocks = [['default', 'else'], [blocks[template], blocks[inverse]]];
            }
            this.push([4 /* Block */, name, params, hash, namedBlocks]);
        };

        JavaScriptCompiler.prototype.openComponent = function openComponent(element) {
            var tag = this.options && this.options.customizeComponentName ? this.options.customizeComponentName(element.tag) : element.tag;
            var component = new ComponentBlock(tag, element.symbols, element.selfClosing);
            this.blocks.push(component);
        };

        JavaScriptCompiler.prototype.openNamedBlock = function openNamedBlock(element) {
            var block = new NamedBlock(element.tag, element.symbols);
            this.blocks.push(block);
        };

        JavaScriptCompiler.prototype.openElement = function openElement(_ref2) {
            var element = _ref2[0],
                simple = _ref2[1];

            var tag = element.tag;
            if (element.blockParams.length > 0) {
                throw new Error('Compile Error: <' + element.tag + '> is not a component and doesn\'t support block parameters');
            } else {
                this.push([7 /* OpenElement */, tag, simple]);
            }
        };

        JavaScriptCompiler.prototype.flushElement = function flushElement() {
            this.push([9 /* FlushElement */]);
        };

        JavaScriptCompiler.prototype.closeComponent = function closeComponent(_element) {
            var _endComponent = this.endComponent(),
                tag = _endComponent[0],
                attrs = _endComponent[1],
                args = _endComponent[2],
                blocks = _endComponent[3];

            this.push([5 /* Component */, tag, attrs, args, blocks]);
        };

        JavaScriptCompiler.prototype.closeNamedBlock = function closeNamedBlock(_element) {
            var blocks = this.blocks;

            var block = blocks.pop();
            this.currentComponent.pushBlock(block.name, block.toJSON());
        };

        JavaScriptCompiler.prototype.closeDynamicComponent = function closeDynamicComponent(_element) {
            var _endComponent2 = this.endComponent(),
                attrs = _endComponent2[1],
                args = _endComponent2[2],
                block = _endComponent2[3];

            this.push([6 /* DynamicComponent */, this.popValue(), attrs, args, block]);
        };

        JavaScriptCompiler.prototype.closeElement = function closeElement(_element) {
            this.push([10 /* CloseElement */]);
        };

        JavaScriptCompiler.prototype.staticAttr = function staticAttr(_ref3) {
            var name = _ref3[0],
                namespace = _ref3[1];

            var value = this.popValue();
            this.push([11 /* StaticAttr */, name, value, namespace]);
        };

        JavaScriptCompiler.prototype.dynamicAttr = function dynamicAttr(_ref4) {
            var name = _ref4[0],
                namespace = _ref4[1];

            var value = this.popValue();
            this.push([12 /* DynamicAttr */, name, value, namespace]);
        };

        JavaScriptCompiler.prototype.componentAttr = function componentAttr(_ref5) {
            var name = _ref5[0],
                namespace = _ref5[1];

            var value = this.popValue();
            this.push([13 /* ComponentAttr */, name, value, namespace]);
        };

        JavaScriptCompiler.prototype.trustingAttr = function trustingAttr(_ref6) {
            var name = _ref6[0],
                namespace = _ref6[1];

            var value = this.popValue();
            this.push([19 /* TrustingDynamicAttr */, name, value, namespace]);
        };

        JavaScriptCompiler.prototype.trustingComponentAttr = function trustingComponentAttr(_ref7) {
            var name = _ref7[0],
                namespace = _ref7[1];

            var value = this.popValue();
            this.push([20 /* TrustingComponentAttr */, name, value, namespace]);
        };

        JavaScriptCompiler.prototype.staticArg = function staticArg(name) {
            var value = this.popValue();
            this.push([18 /* StaticArg */, name, value]);
        };

        JavaScriptCompiler.prototype.dynamicArg = function dynamicArg(name) {
            var value = this.popValue();
            this.push([17 /* DynamicArg */, name, value]);
        };

        JavaScriptCompiler.prototype.yield = function _yield(to) {
            var params = this.popValue();
            this.push([15 /* Yield */, to, params]);
        };

        JavaScriptCompiler.prototype.attrSplat = function attrSplat(to) {
            // consume (and disregard) the value pushed for the
            // ...attributes attribute
            this.popValue();
            this.push([14 /* AttrSplat */, to]);
        };

        JavaScriptCompiler.prototype.debugger = function _debugger(evalInfo) {
            this.push([21 /* Debugger */, evalInfo]);
            this.template.block.hasEval = true;
        };

        JavaScriptCompiler.prototype.hasBlock = function hasBlock(name) {
            this.pushValue([26 /* HasBlock */, name]);
        };

        JavaScriptCompiler.prototype.hasBlockParams = function hasBlockParams(name) {
            this.pushValue([27 /* HasBlockParams */, name]);
        };

        JavaScriptCompiler.prototype.partial = function partial(evalInfo) {
            var params = this.popValue();
            this.push([16 /* Partial */, params[0], evalInfo]);
            this.template.block.hasEval = true;
        };
        /// Expressions


        JavaScriptCompiler.prototype.literal = function literal(value) {
            if (value === undefined) {
                this.pushValue([28 /* Undefined */]);
            } else {
                this.pushValue(value);
            }
        };

        JavaScriptCompiler.prototype.unknown = function unknown(name) {
            this.pushValue([23 /* Unknown */, name]);
        };

        JavaScriptCompiler.prototype.get = function get(_ref8) {
            var head = _ref8[0],
                path = _ref8[1];

            this.pushValue([24 /* Get */, head, path]);
        };

        JavaScriptCompiler.prototype.maybeLocal = function maybeLocal(path) {
            this.pushValue([25 /* MaybeLocal */, path]);
        };

        JavaScriptCompiler.prototype.concat = function concat() {
            this.pushValue([30 /* Concat */, this.popValue()]);
        };

        JavaScriptCompiler.prototype.helper = function helper(name) {
            var params = this.popValue();
            var hash = this.popValue();
            this.pushValue([29 /* Helper */, name, params, hash]);
        };
        /// Stack Management Opcodes


        JavaScriptCompiler.prototype.prepareArray = function prepareArray(size) {
            var values = [];
            for (var i = 0; i < size; i++) {
                values.push(this.popValue());
            }
            this.pushValue(values);
        };

        JavaScriptCompiler.prototype.prepareObject = function prepareObject(size) {

            var keys = new Array(size);
            var values = new Array(size);
            for (var i = 0; i < size; i++) {
                keys[i] = this.popValue();
                values[i] = this.popValue();
            }
            this.pushValue([keys, values]);
        };
        /// Utilities


        JavaScriptCompiler.prototype.endComponent = function endComponent() {
            var component = this.blocks.pop();

            return component.toJSON();
        };

        JavaScriptCompiler.prototype.startInlineBlock = function startInlineBlock(symbols) {
            var block = new InlineBlock(symbols);
            this.blocks.push(block);
        };

        JavaScriptCompiler.prototype.endInlineBlock = function endInlineBlock() {
            var blocks = this.blocks;

            var block = blocks.pop();
            return block.toJSON();
        };

        JavaScriptCompiler.prototype.push = function push(args) {
            this.currentBlock.push(args);
        };

        JavaScriptCompiler.prototype.pushValue = function pushValue(val) {
            this.values.push(val);
        };

        JavaScriptCompiler.prototype.popValue = function popValue() {

            return this.values.pop();
        };

        _createClass$1(JavaScriptCompiler, [{
            key: 'currentBlock',
            get: function get() {
                return this.blocks.current;
            }
        }, {
            key: 'currentComponent',
            get: function get() {
                var block = this.currentBlock;
                if (block instanceof ComponentBlock) {
                    return block;
                } else {
                    throw new Error('Expected ComponentBlock on stack, found ' + block.constructor.name);
                }
            }
        }]);

        return JavaScriptCompiler;
    }();

    // There is a small whitelist of namespaced attributes specially
    // enumerated in
    // https://www.w3.org/TR/html/syntax.html#attributes-0
    //
    // > When a foreign element has one of the namespaced attributes given by
    // > the local name and namespace of the first and second cells of a row
    // > from the following table, it must be written using the name given by
    // > the third cell from the same row.
    //
    // In all other cases, colons are interpreted as a regular character
    // with no special meaning:
    //
    // > No other namespaced attribute can be expressed in the HTML syntax.
    var XLINK = 'http://www.w3.org/1999/xlink';
    var XML = 'http://www.w3.org/XML/1998/namespace';
    var XMLNS = 'http://www.w3.org/2000/xmlns/';
    var WHITELIST = {
        'xlink:actuate': XLINK,
        'xlink:arcrole': XLINK,
        'xlink:href': XLINK,
        'xlink:role': XLINK,
        'xlink:show': XLINK,
        'xlink:title': XLINK,
        'xlink:type': XLINK,
        'xml:base': XML,
        'xml:lang': XML,
        'xml:space': XML,
        xmlns: XMLNS,
        'xmlns:xlink': XMLNS
    };
    function getAttrNamespace(attrName) {
        return WHITELIST[attrName] || null;
    }

    var _createClass$2 = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

    function _classCallCheck$2(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
    var SymbolAllocator = function () {
        function SymbolAllocator(ops) {
            _classCallCheck$2(this, SymbolAllocator);

            this.ops = ops;
            this.symbolStack = new util.Stack();
        }

        SymbolAllocator.prototype.process = function process() {
            var out = [];
            var ops = this.ops;

            for (var i = 0; i < ops.length; i++) {
                var op = ops[i];
                var result = this.dispatch(op);
                if (result === undefined) {
                    out.push(op);
                } else {
                    out.push(result);
                }
            }
            return out;
        };

        SymbolAllocator.prototype.dispatch = function dispatch(op) {
            var name = op[0];
            var operand = op[1];
            return this[name](operand);
        };

        SymbolAllocator.prototype.startProgram = function startProgram(op) {
            this.symbolStack.push(op.symbols);
        };

        SymbolAllocator.prototype.endProgram = function endProgram(_op) {
            this.symbolStack.pop();
        };

        SymbolAllocator.prototype.startBlock = function startBlock(op) {
            this.symbolStack.push(op.symbols);
        };

        SymbolAllocator.prototype.endBlock = function endBlock(_op) {
            this.symbolStack.pop();
        };

        SymbolAllocator.prototype.openNamedBlock = function openNamedBlock(op) {
            this.symbolStack.push(op.symbols);
        };

        SymbolAllocator.prototype.closeNamedBlock = function closeNamedBlock(_op) {
            this.symbolStack.pop();
        };

        SymbolAllocator.prototype.flushElement = function flushElement(op) {
            this.symbolStack.push(op.symbols);
        };

        SymbolAllocator.prototype.closeElement = function closeElement(_op) {
            this.symbolStack.pop();
        };

        SymbolAllocator.prototype.closeComponent = function closeComponent(_op) {
            this.symbolStack.pop();
        };

        SymbolAllocator.prototype.closeDynamicComponent = function closeDynamicComponent(_op) {
            this.symbolStack.pop();
        };

        SymbolAllocator.prototype.attrSplat = function attrSplat(_op) {
            return ['attrSplat', this.symbols.allocateBlock('attrs')];
        };

        SymbolAllocator.prototype.get = function get(op) {
            var name = op[0],
                rest = op[1];

            if (name === 0) {
                return ['get', [0, rest]];
            }
            if (isLocal(name, this.symbols)) {
                var head = this.symbols.get(name);
                return ['get', [head, rest]];
            } else if (name[0] === '@') {
                var _head = this.symbols.allocateNamed(name);
                return ['get', [_head, rest]];
            } else {
                return ['maybeLocal', [name].concat(rest)];
            }
        };

        SymbolAllocator.prototype.maybeGet = function maybeGet(op) {
            var name = op[0],
                rest = op[1];

            if (name === 0) {
                return ['get', [0, rest]];
            }
            if (isLocal(name, this.symbols)) {
                var head = this.symbols.get(name);
                return ['get', [head, rest]];
            } else if (name[0] === '@') {
                var _head2 = this.symbols.allocateNamed(name);
                return ['get', [_head2, rest]];
            } else if (rest.length === 0) {
                return ['unknown', name];
            } else {
                return ['maybeLocal', [name].concat(rest)];
            }
        };

        SymbolAllocator.prototype.yield = function _yield(op) {
            if (op === 0) {
                throw new Error('Cannot yield to this');
            }
            return ['yield', this.symbols.allocateBlock(op)];
        };

        SymbolAllocator.prototype.debugger = function _debugger(_op) {
            return ['debugger', this.symbols.getEvalInfo()];
        };

        SymbolAllocator.prototype.hasBlock = function hasBlock(op) {
            if (op === 0) {
                throw new Error('Cannot hasBlock this');
            }
            return ['hasBlock', this.symbols.allocateBlock(op)];
        };

        SymbolAllocator.prototype.hasBlockParams = function hasBlockParams(op) {
            if (op === 0) {
                throw new Error('Cannot hasBlockParams this');
            }
            return ['hasBlockParams', this.symbols.allocateBlock(op)];
        };

        SymbolAllocator.prototype.partial = function partial(_op) {
            return ['partial', this.symbols.getEvalInfo()];
        };

        SymbolAllocator.prototype.text = function text(_op) {};

        SymbolAllocator.prototype.comment = function comment(_op) {};

        SymbolAllocator.prototype.openComponent = function openComponent(_op) {};

        SymbolAllocator.prototype.openElement = function openElement(_op) {};

        SymbolAllocator.prototype.staticArg = function staticArg(_op) {};

        SymbolAllocator.prototype.dynamicArg = function dynamicArg(_op) {};

        SymbolAllocator.prototype.staticAttr = function staticAttr(_op) {};

        SymbolAllocator.prototype.trustingAttr = function trustingAttr(_op) {};

        SymbolAllocator.prototype.dynamicAttr = function dynamicAttr(_op) {};

        SymbolAllocator.prototype.componentAttr = function componentAttr(_op) {};

        SymbolAllocator.prototype.trustingComponentAttr = function trustingComponentAttr(_op) {};

        SymbolAllocator.prototype.modifier = function modifier(_op) {};

        SymbolAllocator.prototype.append = function append(_op) {};

        SymbolAllocator.prototype.block = function block(_op) {};

        SymbolAllocator.prototype.literal = function literal(_op) {};

        SymbolAllocator.prototype.helper = function helper(_op) {};

        SymbolAllocator.prototype.unknown = function unknown(_op) {};

        SymbolAllocator.prototype.maybeLocal = function maybeLocal(_op) {};

        SymbolAllocator.prototype.prepareArray = function prepareArray(_op) {};

        SymbolAllocator.prototype.prepareObject = function prepareObject(_op) {};

        SymbolAllocator.prototype.concat = function concat(_op) {};

        _createClass$2(SymbolAllocator, [{
            key: 'symbols',
            get: function get() {
                return this.symbolStack.current;
            }
        }]);

        return SymbolAllocator;
    }();
    function isLocal(name, symbols) {
        return symbols && symbols.has(name);
    }

    function _classCallCheck$3(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

    function isTrustedValue(value) {
        return value.escaped !== undefined && !value.escaped;
    }

    var TemplateCompiler = function () {
        function TemplateCompiler() {
            _classCallCheck$3(this, TemplateCompiler);

            this.templateId = 0;
            this.templateIds = [];
            this.opcodes = [];
            this.includeMeta = false;
        }

        TemplateCompiler.compile = function compile(ast, options) {
            var templateVisitor = new TemplateVisitor();
            templateVisitor.visit(ast);
            var compiler = new TemplateCompiler();
            var opcodes = compiler.process(templateVisitor.actions);
            var symbols = new SymbolAllocator(opcodes).process();
            var out = JavaScriptCompiler.process(symbols, ast.symbols, options);
            return out;
        };

        TemplateCompiler.prototype.process = function process(actions) {
            var _this = this;

            actions.forEach(function (_ref) {
                var name = _ref[0],
                    args = _ref.slice(1);

                if (!_this[name]) {
                    throw new Error('Unimplemented ' + name + ' on TemplateCompiler');
                }
                _this[name].apply(_this, args);
            });
            return this.opcodes;
        };

        TemplateCompiler.prototype.startProgram = function startProgram(_ref2) {
            var program = _ref2[0];

            this.opcode(['startProgram', program], program);
        };

        TemplateCompiler.prototype.endProgram = function endProgram() {
            this.opcode(['endProgram', null], null);
        };

        TemplateCompiler.prototype.startBlock = function startBlock(_ref3) {
            var program = _ref3[0];

            this.templateId++;
            this.opcode(['startBlock', program], program);
        };

        TemplateCompiler.prototype.endBlock = function endBlock() {
            this.templateIds.push(this.templateId - 1);
            this.opcode(['endBlock', null], null);
        };

        TemplateCompiler.prototype.text = function text(_ref4) {
            var action = _ref4[0];

            this.opcode(['text', action.chars], action);
        };

        TemplateCompiler.prototype.comment = function comment(_ref5) {
            var action = _ref5[0];

            this.opcode(['comment', action.value], action);
        };

        TemplateCompiler.prototype.openElement = function openElement(_ref6) {
            var action = _ref6[0];

            var attributes = action.attributes;
            var simple = true;
            for (var i = 0; i < attributes.length; i++) {
                var attr = attributes[i];
                if (attr.name === '...attributes') {
                    simple = false;
                    break;
                }
            }
            if (action.modifiers.length > 0) {
                simple = false;
            }
            var actionIsComponent = false;
            if (isDynamicComponent(action)) {
                var head = void 0,
                    rest = void 0;

                var _action$tag$split = action.tag.split('.');

                head = _action$tag$split[0];
                rest = _action$tag$split.slice(1);

                if (head === 'this') {
                    head = 0;
                }
                this.opcode(['get', [head, rest]]);
                this.opcode(['openComponent', action], action);
                actionIsComponent = true;
            } else if (isNamedBlock(action)) {
                this.opcode(['openNamedBlock', action], action);
            } else if (isComponent(action)) {
                this.opcode(['openComponent', action], action);
                actionIsComponent = true;
            } else {
                this.opcode(['openElement', [action, simple]], action);
            }
            if (!isNamedBlock(action)) {
                // TODO: Assert no attributes
                var typeAttr = null;
                var attrs = action.attributes;
                for (var _i = 0; _i < attrs.length; _i++) {
                    if (attrs[_i].name === 'type') {
                        typeAttr = attrs[_i];
                        continue;
                    }
                    this.attribute([attrs[_i]], !simple || actionIsComponent);
                }
                if (typeAttr) {
                    this.attribute([typeAttr], !simple || actionIsComponent);
                }
                for (var _i2 = 0; _i2 < action.modifiers.length; _i2++) {
                    this.modifier([action.modifiers[_i2]]);
                }
                this.opcode(['flushElement', action], null);
            }
        };

        TemplateCompiler.prototype.closeElement = function closeElement(_ref7) {
            var action = _ref7[0];

            if (isNamedBlock(action)) {
                this.opcode(['closeNamedBlock', action]);
            } else if (isDynamicComponent(action)) {
                this.opcode(['closeDynamicComponent', action], action);
            } else if (isComponent(action)) {
                this.opcode(['closeComponent', action], action);
            } else {
                this.opcode(['closeElement', action], action);
            }
        };

        TemplateCompiler.prototype.attribute = function attribute(_ref8, isComponent) {
            var action = _ref8[0];
            var name = action.name,
                value = action.value;

            var namespace = getAttrNamespace(name);
            var isStatic = this.prepareAttributeValue(value);
            if (name.charAt(0) === '@') {
                // Arguments
                if (isStatic) {
                    this.opcode(['staticArg', name], action);
                } else if (action.value.type === 'MustacheStatement') {
                    this.opcode(['dynamicArg', name], action);
                } else {
                    this.opcode(['dynamicArg', name], action);
                }
            } else {
                var isTrusting = isTrustedValue(value);
                if (isStatic && name === '...attributes') {
                    this.opcode(['attrSplat', null], action);
                } else if (isStatic && !isComponent) {
                    this.opcode(['staticAttr', [name, namespace]], action);
                } else if (isTrusting) {
                    this.opcode([isComponent ? 'trustingComponentAttr' : 'trustingAttr', [name, namespace]], action);
                } else if (action.value.type === 'MustacheStatement') {
                    this.opcode([isComponent ? 'componentAttr' : 'dynamicAttr', [name, namespace]], action);
                } else {
                    this.opcode([isComponent ? 'componentAttr' : 'dynamicAttr', [name, namespace]], action);
                }
            }
        };

        TemplateCompiler.prototype.modifier = function modifier(_ref9) {
            var action = _ref9[0];

            assertIsSimplePath(action.path, action.loc, 'modifier');
            var parts = action.path.parts;

            this.prepareHelper(action);
            this.opcode(['modifier', parts[0]], action);
        };

        TemplateCompiler.prototype.mustache = function mustache(_ref10) {
            var action = _ref10[0];
            var path = action.path;

            if (syntax.isLiteral(path)) {
                this.mustacheExpression(action);
                this.opcode(['append', !action.escaped], action);
            } else if (isYield(path)) {
                var to = assertValidYield(action);
                this.yield(to, action);
            } else if (isPartial(path)) {
                var params = assertValidPartial(action);
                this.partial(params, action);
            } else if (isDebugger(path)) {
                assertValidDebuggerUsage(action);
                this.debugger('debugger', action);
            } else {
                this.mustacheExpression(action);
                this.opcode(['append', !action.escaped], action);
            }
        };

        TemplateCompiler.prototype.block = function block(_ref11) {
            var action /*, index, count*/ = _ref11[0];

            this.prepareHelper(action);
            var templateId = this.templateIds.pop();
            var inverseId = action.inverse === null ? null : this.templateIds.pop();
            this.opcode(['block', [action.path.parts[0], templateId, inverseId]], action);
        };
        /// Internal actions, not found in the original processed actions


        TemplateCompiler.prototype.arg = function arg(_ref12) {
            var path = _ref12[0];

            var _path$parts = path.parts,
                head = _path$parts[0],
                rest = _path$parts.slice(1);

            this.opcode(['get', ['@' + head, rest]], path);
        };

        TemplateCompiler.prototype.mustacheExpression = function mustacheExpression(expr) {
            var path = expr.path;

            if (syntax.isLiteral(path)) {
                this.opcode(['literal', path.value], expr);
            } else if (isBuiltInHelper(path)) {
                this.builtInHelper(expr);
            } else if (isArg(path)) {
                this.arg([path]);
            } else if (isHelperInvocation(expr)) {
                this.prepareHelper(expr);
                this.opcode(['helper', path.parts[0]], expr);
            } else if (path.this) {
                this.opcode(['get', [0, path.parts]], expr);
            } else {
                var _path$parts2 = path.parts,
                    head = _path$parts2[0],
                    parts = _path$parts2.slice(1);

                this.opcode(['maybeGet', [head, parts]], expr);
            }
            // } else if (isLocal(path, this.symbols)) {
            //   let [head, ...parts] = path.parts;
            //   this.opcode(['get', [head, parts]], expr);
            // } else if (isSimplePath(path)) {
            //   this.opcode(['unknown', path.parts[0]], expr);
            // } else {
            //   this.opcode(['maybeLocal', path.parts], expr);
            // }
        };
        /// Internal Syntax


        TemplateCompiler.prototype.yield = function _yield(to, action) {
            this.prepareParams(action.params);
            this.opcode(['yield', to], action);
        };

        TemplateCompiler.prototype.debugger = function _debugger(_name, action) {
            this.opcode(['debugger', null], action);
        };

        TemplateCompiler.prototype.hasBlock = function hasBlock(name, action) {
            this.opcode(['hasBlock', name], action);
        };

        TemplateCompiler.prototype.hasBlockParams = function hasBlockParams(name, action) {
            this.opcode(['hasBlockParams', name], action);
        };

        TemplateCompiler.prototype.partial = function partial(_params, action) {
            this.prepareParams(action.params);
            this.opcode(['partial', null], action);
        };

        TemplateCompiler.prototype.builtInHelper = function builtInHelper(expr) {
            var path = expr.path;

            if (isHasBlock(path)) {
                var name = assertValidHasBlockUsage(expr.path.original, expr);
                this.hasBlock(name, expr);
            } else if (isHasBlockParams(path)) {
                var _name2 = assertValidHasBlockUsage(expr.path.original, expr);
                this.hasBlockParams(_name2, expr);
            }
        };
        /// Expressions, invoked recursively from prepareParams and prepareHash


        TemplateCompiler.prototype.SubExpression = function SubExpression(expr) {
            if (isBuiltInHelper(expr.path)) {
                this.builtInHelper(expr);
            } else {
                this.prepareHelper(expr);
                this.opcode(['helper', expr.path.parts[0]], expr);
            }
        };

        TemplateCompiler.prototype.PathExpression = function PathExpression(expr) {
            if (expr.data) {
                this.arg([expr]);
            } else {
                var _expr$parts = expr.parts,
                    head = _expr$parts[0],
                    rest = _expr$parts.slice(1);

                if (expr.this) {
                    this.opcode(['get', [0, expr.parts]], expr);
                } else {
                    this.opcode(['get', [head, rest]], expr);
                }
            }
        };

        TemplateCompiler.prototype.StringLiteral = function StringLiteral(action) {
            this.opcode(['literal', action.value], action);
        };

        TemplateCompiler.prototype.BooleanLiteral = function BooleanLiteral(action) {
            this.opcode(['literal', action.value], action);
        };

        TemplateCompiler.prototype.NumberLiteral = function NumberLiteral(action) {
            this.opcode(['literal', action.value], action);
        };

        TemplateCompiler.prototype.NullLiteral = function NullLiteral(action) {
            this.opcode(['literal', action.value], action);
        };

        TemplateCompiler.prototype.UndefinedLiteral = function UndefinedLiteral(action) {
            this.opcode(['literal', action.value], action);
        };
        /// Utilities


        TemplateCompiler.prototype.opcode = function opcode(_opcode) {
            var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

            // TODO: This doesn't really work
            if (this.includeMeta && action) {
                _opcode.push(this.meta(action));
            }
            this.opcodes.push(_opcode);
        };

        TemplateCompiler.prototype.prepareHelper = function prepareHelper(expr) {
            assertIsSimplePath(expr.path, expr.loc, 'helper');
            var params = expr.params,
                hash = expr.hash;

            this.prepareHash(hash);
            this.prepareParams(params);
        };

        TemplateCompiler.prototype.prepareParams = function prepareParams(params) {
            if (!params.length) {
                this.opcode(['literal', null], null);
                return;
            }
            for (var i = params.length - 1; i >= 0; i--) {
                var param = params[i];

                this[param.type](param);
            }
            this.opcode(['prepareArray', params.length], null);
        };

        TemplateCompiler.prototype.prepareHash = function prepareHash(hash) {
            var pairs = hash.pairs;
            if (!pairs.length) {
                this.opcode(['literal', null], null);
                return;
            }
            for (var i = pairs.length - 1; i >= 0; i--) {
                var _pairs$i = pairs[i],
                    key = _pairs$i.key,
                    value = _pairs$i.value;

                this[value.type](value);
                this.opcode(['literal', key], null);
            }
            this.opcode(['prepareObject', pairs.length], null);
        };

        TemplateCompiler.prototype.prepareAttributeValue = function prepareAttributeValue(value) {
            // returns the static value if the value is static
            switch (value.type) {
                case 'TextNode':
                    this.opcode(['literal', value.chars], value);
                    return true;
                case 'MustacheStatement':
                    this.attributeMustache([value]);
                    return false;
                case 'ConcatStatement':
                    this.prepareConcatParts(value.parts);
                    this.opcode(['concat', null], value);
                    return false;
            }
        };

        TemplateCompiler.prototype.prepareConcatParts = function prepareConcatParts(parts) {
            for (var i = parts.length - 1; i >= 0; i--) {
                var part = parts[i];
                if (part.type === 'MustacheStatement') {
                    this.attributeMustache([part]);
                } else if (part.type === 'TextNode') {
                    this.opcode(['literal', part.chars], null);
                }
            }
            this.opcode(['prepareArray', parts.length], null);
        };

        TemplateCompiler.prototype.attributeMustache = function attributeMustache(_ref13) {
            var action = _ref13[0];

            this.mustacheExpression(action);
        };

        TemplateCompiler.prototype.meta = function meta(node) {
            var loc = node.loc;
            if (!loc) {
                return [];
            }
            var source = loc.source,
                start = loc.start,
                end = loc.end;

            return ['loc', [source || null, [start.line, start.column], [end.line, end.column]]];
        };

        return TemplateCompiler;
    }();

    function isHelperInvocation(mustache) {
        return mustache.params && mustache.params.length > 0 || mustache.hash && mustache.hash.pairs.length > 0;
    }
    function isSimplePath(_ref14) {
        var parts = _ref14.parts;

        return parts.length === 1;
    }
    function isYield(path) {
        return path.original === 'yield';
    }
    function isPartial(path) {
        return path.original === 'partial';
    }
    function isDebugger(path) {
        return path.original === 'debugger';
    }
    function isHasBlock(path) {
        return path.original === 'has-block';
    }
    function isHasBlockParams(path) {
        return path.original === 'has-block-params';
    }
    function isBuiltInHelper(path) {
        return isHasBlock(path) || isHasBlockParams(path);
    }
    function isArg(path) {
        return !!path['data'];
    }
    function isDynamicComponent(element) {
        var open = element.tag.charAt(0);

        var _element$tag$split = element.tag.split('.'),
            maybeLocal = _element$tag$split[0];

        var isNamedArgument = open === '@';
        var isLocal = element.symbols.has(maybeLocal);
        var isThisPath = element.tag.indexOf('this.') === 0;
        return isLocal || isNamedArgument || isThisPath;
    }
    function isComponent(element) {
        var open = element.tag.charAt(0);
        var isPath = element.tag.indexOf('.') > -1;
        var isUpperCase = open === open.toUpperCase() && open !== open.toLowerCase();
        return isUpperCase && !isPath || isDynamicComponent(element);
    }
    function isNamedBlock(element) {
        var open = element.tag.charAt(0);
        return open === ':';
    }
    function assertIsSimplePath(path, loc, context) {
        if (!isSimplePath(path)) {
            throw new syntax.SyntaxError('`' + path.original + '` is not a valid name for a ' + context + ' on line ' + loc.start.line + '.', path.loc);
        }
    }
    function assertValidYield(statement) {
        var pairs = statement.hash.pairs;

        if (pairs.length === 1 && pairs[0].key !== 'to' || pairs.length > 1) {
            throw new syntax.SyntaxError('yield only takes a single named argument: \'to\'', statement.loc);
        } else if (pairs.length === 1 && pairs[0].value.type !== 'StringLiteral') {
            throw new syntax.SyntaxError('you can only yield to a literal value', statement.loc);
        } else if (pairs.length === 0) {
            return 'default';
        } else {
            return pairs[0].value.value;
        }
    }
    function assertValidPartial(statement) {
        var params = statement.params,
            hash = statement.hash,
            escaped = statement.escaped,
            loc = statement.loc;

        if (params && params.length !== 1) {
            throw new syntax.SyntaxError('Partial found with no arguments. You must specify a template name. (on line ' + loc.start.line + ')', statement.loc);
        } else if (hash && hash.pairs.length > 0) {
            throw new syntax.SyntaxError('partial does not take any named arguments (on line ' + loc.start.line + ')', statement.loc);
        } else if (!escaped) {
            throw new syntax.SyntaxError('{{{partial ...}}} is not supported, please use {{partial ...}} instead (on line ' + loc.start.line + ')', statement.loc);
        }
        return params;
    }
    function assertValidHasBlockUsage(type, call) {
        var params = call.params,
            hash = call.hash,
            loc = call.loc;

        if (hash && hash.pairs.length > 0) {
            throw new syntax.SyntaxError(type + ' does not take any named arguments', call.loc);
        }
        if (params.length === 0) {
            return 'default';
        } else if (params.length === 1) {
            var param = params[0];
            if (param.type === 'StringLiteral') {
                return param.value;
            } else {
                throw new syntax.SyntaxError('you can only yield to a literal value (on line ' + loc.start.line + ')', call.loc);
            }
        } else {
            throw new syntax.SyntaxError(type + ' only takes a single positional argument (on line ' + loc.start.line + ')', call.loc);
        }
    }
    function assertValidDebuggerUsage(statement) {
        var params = statement.params,
            hash = statement.hash;

        if (hash && hash.pairs.length > 0) {
            throw new syntax.SyntaxError('debugger does not take any named arguments', statement.loc);
        }
        if (params.length === 0) {
            return 'default';
        } else {
            throw new syntax.SyntaxError('debugger does not take any positional arguments', statement.loc);
        }
    }

    var defaultId = function () {
        if (typeof require === 'function') {
            try {
                /* tslint:disable:no-require-imports */
                var crypto = require('crypto');
                /* tslint:enable:no-require-imports */
                var idFn = function idFn(src) {
                    var hash = crypto.createHash('sha1');
                    hash.update(src, 'utf8');
                    // trim to 6 bytes of data (2^48 - 1)
                    return hash.digest('base64').substring(0, 8);
                };
                idFn('test');
                return idFn;
            } catch (e) {}
        }
        return function idFn() {
            return null;
        };
    }();
    var defaultOptions = {
        id: defaultId,
        meta: {}
    };
    function precompile(string) {
        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultOptions;

        var ast = syntax.preprocess(string, options);
        var meta = options.meta;

        var _TemplateCompiler$com = TemplateCompiler.compile(ast, options),
            block = _TemplateCompiler$com.block;

        var idFn = options.id || defaultId;
        var blockJSON = JSON.stringify(block.toJSON());
        var templateJSONObject = {
            id: idFn(JSON.stringify(meta) + blockJSON),
            block: blockJSON,
            meta: meta
        };
        // JSON is javascript
        return JSON.stringify(templateJSONObject);
    }

    exports.defaultId = defaultId;
    exports.precompile = precompile;
    exports.TemplateCompiler = TemplateCompiler;
    exports.TemplateVisitor = TemplateVisitor;

    Object.defineProperty(exports, '__esModule', { value: true });

});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2xpbW1lci1jb21waWxlci5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcGFja2FnZXMvQGdsaW1tZXIvY29tcGlsZXIvbGliL3RlbXBsYXRlLXZpc2l0b3IudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi9wYWNrYWdlcy9AZ2xpbW1lci9jb21waWxlci9saWIvamF2YXNjcmlwdC1jb21waWxlci50cyIsIi4uLy4uLy4uLy4uLy4uLy4uL3BhY2thZ2VzL0BnbGltbWVyL2NvbXBpbGVyL2xpYi91dGlscy50cyIsIi4uLy4uLy4uLy4uLy4uLy4uL3BhY2thZ2VzL0BnbGltbWVyL2NvbXBpbGVyL2xpYi9hbGxvY2F0ZS1zeW1ib2xzLnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vcGFja2FnZXMvQGdsaW1tZXIvY29tcGlsZXIvbGliL3RlbXBsYXRlLWNvbXBpbGVyLnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vcGFja2FnZXMvQGdsaW1tZXIvY29tcGlsZXIvbGliL2NvbXBpbGVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFTVCB9IGZyb20gJ0BnbGltbWVyL3N5bnRheCc7XG5pbXBvcnQgeyBPcHRpb24sIGRpY3QsIHVucmVhY2hhYmxlLCBleHBlY3QgfSBmcm9tICdAZ2xpbW1lci91dGlsJztcbmltcG9ydCB7IENvcmUsIERpY3QgfSBmcm9tICdAZ2xpbW1lci9pbnRlcmZhY2VzJztcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFN5bWJvbFRhYmxlIHtcbiAgc3RhdGljIHRvcCgpOiBQcm9ncmFtU3ltYm9sVGFibGUge1xuICAgIHJldHVybiBuZXcgUHJvZ3JhbVN5bWJvbFRhYmxlKCk7XG4gIH1cblxuICBhYnN0cmFjdCBoYXMobmFtZTogc3RyaW5nKTogYm9vbGVhbjtcbiAgYWJzdHJhY3QgZ2V0KG5hbWU6IHN0cmluZyk6IG51bWJlcjtcblxuICBhYnN0cmFjdCBnZXRMb2NhbHNNYXAoKTogRGljdDxudW1iZXI+O1xuICBhYnN0cmFjdCBnZXRFdmFsSW5mbygpOiBDb3JlLkV2YWxJbmZvO1xuXG4gIGFic3RyYWN0IGFsbG9jYXRlTmFtZWQobmFtZTogc3RyaW5nKTogbnVtYmVyO1xuICBhYnN0cmFjdCBhbGxvY2F0ZUJsb2NrKG5hbWU6IHN0cmluZyk6IG51bWJlcjtcbiAgYWJzdHJhY3QgYWxsb2NhdGUoaWRlbnRpZmllcjogc3RyaW5nKTogbnVtYmVyO1xuXG4gIGNoaWxkKGxvY2Fsczogc3RyaW5nW10pOiBCbG9ja1N5bWJvbFRhYmxlIHtcbiAgICBsZXQgc3ltYm9scyA9IGxvY2Fscy5tYXAobmFtZSA9PiB0aGlzLmFsbG9jYXRlKG5hbWUpKTtcbiAgICByZXR1cm4gbmV3IEJsb2NrU3ltYm9sVGFibGUodGhpcywgbG9jYWxzLCBzeW1ib2xzKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUHJvZ3JhbVN5bWJvbFRhYmxlIGV4dGVuZHMgU3ltYm9sVGFibGUge1xuICBwdWJsaWMgc3ltYm9sczogc3RyaW5nW10gPSBbXTtcblxuICBwcml2YXRlIHNpemUgPSAxO1xuICBwcml2YXRlIG5hbWVkID0gZGljdDxudW1iZXI+KCk7XG4gIHByaXZhdGUgYmxvY2tzID0gZGljdDxudW1iZXI+KCk7XG5cbiAgaGFzKF9uYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBnZXQoX25hbWU6IHN0cmluZyk6IG5ldmVyIHtcbiAgICB0aHJvdyB1bnJlYWNoYWJsZSgpO1xuICB9XG5cbiAgZ2V0TG9jYWxzTWFwKCk6IERpY3Q8bnVtYmVyPiB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG5cbiAgZ2V0RXZhbEluZm8oKTogQ29yZS5FdmFsSW5mbyB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgYWxsb2NhdGVOYW1lZChuYW1lOiBzdHJpbmcpOiBudW1iZXIge1xuICAgIGxldCBuYW1lZCA9IHRoaXMubmFtZWRbbmFtZV07XG5cbiAgICBpZiAoIW5hbWVkKSB7XG4gICAgICBuYW1lZCA9IHRoaXMubmFtZWRbbmFtZV0gPSB0aGlzLmFsbG9jYXRlKG5hbWUpO1xuICAgIH1cblxuICAgIHJldHVybiBuYW1lZDtcbiAgfVxuXG4gIGFsbG9jYXRlQmxvY2sobmFtZTogc3RyaW5nKTogbnVtYmVyIHtcbiAgICBpZiAobmFtZSA9PT0gJ2ludmVyc2UnKSB7XG4gICAgICBuYW1lID0gJ2Vsc2UnO1xuICAgIH1cblxuICAgIGxldCBibG9jayA9IHRoaXMuYmxvY2tzW25hbWVdO1xuXG4gICAgaWYgKCFibG9jaykge1xuICAgICAgYmxvY2sgPSB0aGlzLmJsb2Nrc1tuYW1lXSA9IHRoaXMuYWxsb2NhdGUoYCYke25hbWV9YCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGJsb2NrO1xuICB9XG5cbiAgYWxsb2NhdGUoaWRlbnRpZmllcjogc3RyaW5nKTogbnVtYmVyIHtcbiAgICB0aGlzLnN5bWJvbHMucHVzaChpZGVudGlmaWVyKTtcbiAgICByZXR1cm4gdGhpcy5zaXplKys7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEJsb2NrU3ltYm9sVGFibGUgZXh0ZW5kcyBTeW1ib2xUYWJsZSB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcGFyZW50OiBTeW1ib2xUYWJsZSwgcHVibGljIHN5bWJvbHM6IHN0cmluZ1tdLCBwdWJsaWMgc2xvdHM6IG51bWJlcltdKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIGhhcyhuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5zeW1ib2xzLmluZGV4T2YobmFtZSkgIT09IC0xIHx8IHRoaXMucGFyZW50LmhhcyhuYW1lKTtcbiAgfVxuXG4gIGdldChuYW1lOiBzdHJpbmcpOiBudW1iZXIge1xuICAgIGxldCBzbG90ID0gdGhpcy5zeW1ib2xzLmluZGV4T2YobmFtZSk7XG4gICAgcmV0dXJuIHNsb3QgPT09IC0xID8gdGhpcy5wYXJlbnQuZ2V0KG5hbWUpIDogdGhpcy5zbG90c1tzbG90XTtcbiAgfVxuXG4gIGdldExvY2Fsc01hcCgpOiBEaWN0PG51bWJlcj4ge1xuICAgIGxldCBkaWN0ID0gdGhpcy5wYXJlbnQuZ2V0TG9jYWxzTWFwKCk7XG4gICAgdGhpcy5zeW1ib2xzLmZvckVhY2goc3ltYm9sID0+IChkaWN0W3N5bWJvbF0gPSB0aGlzLmdldChzeW1ib2wpKSk7XG4gICAgcmV0dXJuIGRpY3Q7XG4gIH1cblxuICBnZXRFdmFsSW5mbygpOiBDb3JlLkV2YWxJbmZvIHtcbiAgICBsZXQgbG9jYWxzID0gdGhpcy5nZXRMb2NhbHNNYXAoKTtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMobG9jYWxzKS5tYXAoc3ltYm9sID0+IGxvY2Fsc1tzeW1ib2xdKTtcbiAgfVxuXG4gIGFsbG9jYXRlTmFtZWQobmFtZTogc3RyaW5nKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5wYXJlbnQuYWxsb2NhdGVOYW1lZChuYW1lKTtcbiAgfVxuXG4gIGFsbG9jYXRlQmxvY2sobmFtZTogc3RyaW5nKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5wYXJlbnQuYWxsb2NhdGVCbG9jayhuYW1lKTtcbiAgfVxuXG4gIGFsbG9jYXRlKGlkZW50aWZpZXI6IHN0cmluZyk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMucGFyZW50LmFsbG9jYXRlKGlkZW50aWZpZXIpO1xuICB9XG59XG5cbi8qKlxuICogVGFrZXMgaW4gYW4gQVNUIGFuZCBvdXRwdXRzIGEgbGlzdCBvZiBhY3Rpb25zIHRvIGJlIGNvbnN1bWVkXG4gKiBieSBhIGNvbXBpbGVyLiBGb3IgZXhhbXBsZSwgdGhlIHRlbXBsYXRlXG4gKlxuICogICAgIGZvb3t7YmFyfX08ZGl2PmJhejwvZGl2PlxuICpcbiAqIHByb2R1Y2VzIHRoZSBhY3Rpb25zXG4gKlxuICogICAgIFtbJ3N0YXJ0UHJvZ3JhbScsIFtwcm9ncmFtTm9kZSwgMF1dLFxuICogICAgICBbJ3RleHQnLCBbdGV4dE5vZGUsIDAsIDNdXSxcbiAqICAgICAgWydtdXN0YWNoZScsIFttdXN0YWNoZU5vZGUsIDEsIDNdXSxcbiAqICAgICAgWydvcGVuRWxlbWVudCcsIFtlbGVtZW50Tm9kZSwgMiwgMywgMF1dLFxuICogICAgICBbJ3RleHQnLCBbdGV4dE5vZGUsIDAsIDFdXSxcbiAqICAgICAgWydjbG9zZUVsZW1lbnQnLCBbZWxlbWVudE5vZGUsIDIsIDNdLFxuICogICAgICBbJ2VuZFByb2dyYW0nLCBbcHJvZ3JhbU5vZGVdXV1cbiAqXG4gKiBUaGlzIHZpc2l0b3Igd2Fsa3MgdGhlIEFTVCBkZXB0aCBmaXJzdCBhbmQgYmFja3dhcmRzLiBBc1xuICogYSByZXN1bHQgdGhlIGJvdHRvbS1tb3N0IGNoaWxkIHRlbXBsYXRlIHdpbGwgYXBwZWFyIGF0IHRoZVxuICogdG9wIG9mIHRoZSBhY3Rpb25zIGxpc3Qgd2hlcmVhcyB0aGUgcm9vdCB0ZW1wbGF0ZSB3aWxsIGFwcGVhclxuICogYXQgdGhlIGJvdHRvbSBvZiB0aGUgbGlzdC4gRm9yIGV4YW1wbGUsXG4gKlxuICogICAgIDxkaXY+e3sjaWZ9fWZvb3t7ZWxzZX19YmFyPGI+PC9iPnt7L2lmfX08L2Rpdj5cbiAqXG4gKiBwcm9kdWNlcyB0aGUgYWN0aW9uc1xuICpcbiAqICAgICBbWydzdGFydFByb2dyYW0nLCBbcHJvZ3JhbU5vZGUsIDBdXSxcbiAqICAgICAgWyd0ZXh0JywgW3RleHROb2RlLCAwLCAyLCAwXV0sXG4gKiAgICAgIFsnb3BlbkVsZW1lbnQnLCBbZWxlbWVudE5vZGUsIDEsIDIsIDBdXSxcbiAqICAgICAgWydjbG9zZUVsZW1lbnQnLCBbZWxlbWVudE5vZGUsIDEsIDJdXSxcbiAqICAgICAgWydlbmRQcm9ncmFtJywgW3Byb2dyYW1Ob2RlXV0sXG4gKiAgICAgIFsnc3RhcnRQcm9ncmFtJywgW3Byb2dyYW1Ob2RlLCAwXV0sXG4gKiAgICAgIFsndGV4dCcsIFt0ZXh0Tm9kZSwgMCwgMV1dLFxuICogICAgICBbJ2VuZFByb2dyYW0nLCBbcHJvZ3JhbU5vZGVdXSxcbiAqICAgICAgWydzdGFydFByb2dyYW0nLCBbcHJvZ3JhbU5vZGUsIDJdXSxcbiAqICAgICAgWydvcGVuRWxlbWVudCcsIFtlbGVtZW50Tm9kZSwgMCwgMSwgMV1dLFxuICogICAgICBbJ2Jsb2NrJywgW2Jsb2NrTm9kZSwgMCwgMV1dLFxuICogICAgICBbJ2Nsb3NlRWxlbWVudCcsIFtlbGVtZW50Tm9kZSwgMCwgMV1dLFxuICogICAgICBbJ2VuZFByb2dyYW0nLCBbcHJvZ3JhbU5vZGVdXV1cbiAqXG4gKiBUaGUgc3RhdGUgb2YgdGhlIHRyYXZlcnNhbCBpcyBtYWludGFpbmVkIGJ5IGEgc3RhY2sgb2YgZnJhbWVzLlxuICogV2hlbmV2ZXIgYSBub2RlIHdpdGggY2hpbGRyZW4gaXMgZW50ZXJlZCAoZWl0aGVyIGEgUHJvZ3JhbU5vZGVcbiAqIG9yIGFuIEVsZW1lbnROb2RlKSBhIGZyYW1lIGlzIHB1c2hlZCBvbnRvIHRoZSBzdGFjay4gVGhlIGZyYW1lXG4gKiBjb250YWlucyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgc3RhdGUgb2YgdGhlIHRyYXZlcnNhbCBvZiB0aGF0XG4gKiBub2RlLiBGb3IgZXhhbXBsZSxcbiAqXG4gKiAgIC0gaW5kZXggb2YgdGhlIGN1cnJlbnQgY2hpbGQgbm9kZSBiZWluZyB2aXNpdGVkXG4gKiAgIC0gdGhlIG51bWJlciBvZiBtdXN0YWNoZXMgY29udGFpbmVkIHdpdGhpbiBpdHMgY2hpbGQgbm9kZXNcbiAqICAgLSB0aGUgbGlzdCBvZiBhY3Rpb25zIGdlbmVyYXRlZCBieSBpdHMgY2hpbGQgbm9kZXNcbiAqL1xuXG5jbGFzcyBGcmFtZSB7XG4gIHB1YmxpYyBwYXJlbnROb2RlOiBPcHRpb248T2JqZWN0PiA9IG51bGw7XG4gIHB1YmxpYyBjaGlsZHJlbjogT3B0aW9uPEFTVC5Ob2RlW10+ID0gbnVsbDtcbiAgcHVibGljIGNoaWxkSW5kZXg6IE9wdGlvbjxudW1iZXI+ID0gbnVsbDtcbiAgcHVibGljIGNoaWxkQ291bnQ6IE9wdGlvbjxudW1iZXI+ID0gbnVsbDtcbiAgcHVibGljIGNoaWxkVGVtcGxhdGVDb3VudCA9IDA7XG4gIHB1YmxpYyBtdXN0YWNoZUNvdW50ID0gMDtcbiAgcHVibGljIGFjdGlvbnM6IEFjdGlvbltdID0gW107XG4gIHB1YmxpYyBibGFua0NoaWxkVGV4dE5vZGVzOiBPcHRpb248bnVtYmVyW10+ID0gbnVsbDtcbiAgcHVibGljIHN5bWJvbHM6IE9wdGlvbjxBU1QuU3ltYm9scz4gPSBudWxsO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIEFjdGlvbiB7XG4gIGV4cG9ydCB0eXBlIFN0YXJ0UHJvZ3JhbSA9IFsnc3RhcnRQcm9ncmFtJywgW0FTVC5UZW1wbGF0ZSwgbnVtYmVyLCBudW1iZXJbXV1dO1xuICBleHBvcnQgdHlwZSBFbmRQcm9ncmFtID0gWydlbmRQcm9ncmFtJywgW0FTVC5UZW1wbGF0ZSwgbnVtYmVyXV07XG4gIGV4cG9ydCB0eXBlIFN0YXJ0QmxvY2sgPSBbJ3N0YXJ0QmxvY2snLCBbQVNULkJsb2NrLCBudW1iZXIsIG51bWJlcltdXV07XG4gIGV4cG9ydCB0eXBlIEVuZEJsb2NrID0gWydlbmRCbG9jaycsIFtBU1QuQmxvY2ssIG51bWJlcl1dO1xuICBleHBvcnQgdHlwZSBCbG9jayA9IFsnYmxvY2snLCBbQVNULkJsb2NrU3RhdGVtZW50LCBudW1iZXIsIG51bWJlcl1dO1xuICBleHBvcnQgdHlwZSBNdXN0YWNoZSA9IFtcbiAgICAnbXVzdGFjaGUnLFxuICAgIFtBU1QuTXVzdGFjaGVTdGF0ZW1lbnQgfCBBU1QuUGFydGlhbFN0YXRlbWVudCwgbnVtYmVyLCBudW1iZXJdXG4gIF07XG4gIGV4cG9ydCB0eXBlIE9wZW5FbGVtZW50ID0gWydvcGVuRWxlbWVudCcsIFtBU1QuRWxlbWVudE5vZGUsIG51bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcltdXV07XG4gIGV4cG9ydCB0eXBlIENsb3NlRWxlbWVudCA9IFsnY2xvc2VFbGVtZW50JywgW0FTVC5FbGVtZW50Tm9kZSwgbnVtYmVyLCBudW1iZXJdXTtcbiAgZXhwb3J0IHR5cGUgVGV4dCA9IFsndGV4dCcsIFtBU1QuVGV4dE5vZGUsIG51bWJlciwgbnVtYmVyXV07XG4gIGV4cG9ydCB0eXBlIENvbW1lbnQgPSBbJ2NvbW1lbnQnLCBbQVNULkNvbW1lbnRTdGF0ZW1lbnQsIG51bWJlciwgbnVtYmVyXV07XG5cbiAgZXhwb3J0IHR5cGUgQWN0aW9uID1cbiAgICB8IFN0YXJ0UHJvZ3JhbVxuICAgIHwgRW5kUHJvZ3JhbVxuICAgIHwgU3RhcnRCbG9ja1xuICAgIHwgRW5kQmxvY2tcbiAgICB8IEJsb2NrXG4gICAgfCBNdXN0YWNoZVxuICAgIHwgT3BlbkVsZW1lbnRcbiAgICB8IENsb3NlRWxlbWVudFxuICAgIHwgVGV4dFxuICAgIHwgQ29tbWVudDtcbn1cblxuZXhwb3J0IHR5cGUgQWN0aW9uID0gQWN0aW9uLkFjdGlvbjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGVtcGxhdGVWaXNpdG9yIHtcbiAgcHJpdmF0ZSBmcmFtZVN0YWNrOiBGcmFtZVtdID0gW107XG4gIHB1YmxpYyBhY3Rpb25zOiBBY3Rpb25bXSA9IFtdO1xuICBwcml2YXRlIHByb2dyYW1EZXB0aCA9IC0xO1xuXG4gIHZpc2l0PFMgZXh0ZW5kcyBBU1QuVG9wTGV2ZWxTdGF0ZW1lbnQ+KG5vZGU6IFMpIHtcbiAgICAodGhpc1tub2RlLnR5cGVdIGFzICh0aGlzOiB0aGlzLCBub2RlOiBTKSA9PiB2b2lkKShub2RlKTtcbiAgfVxuXG4gIC8vIFRyYXZlcnNhbCBtZXRob2RzXG5cbiAgQmxvY2socHJvZ3JhbTogQVNULkJsb2NrKSB7XG4gICAgcmV0dXJuIHRoaXMuYW55QmxvY2socHJvZ3JhbSk7XG4gIH1cblxuICBUZW1wbGF0ZShwcm9ncmFtOiBBU1QuVGVtcGxhdGUpIHtcbiAgICByZXR1cm4gdGhpcy5hbnlCbG9jayhwcm9ncmFtKTtcbiAgfVxuXG4gIGFueUJsb2NrKHByb2dyYW06IEFTVC5CbG9jayB8IEFTVC5UZW1wbGF0ZSkge1xuICAgIHRoaXMucHJvZ3JhbURlcHRoKys7XG5cbiAgICBsZXQgcGFyZW50RnJhbWUgPSB0aGlzLmdldEN1cnJlbnRGcmFtZSgpO1xuICAgIGxldCBwcm9ncmFtRnJhbWUgPSB0aGlzLnB1c2hGcmFtZSgpO1xuXG4gICAgaWYgKCFwYXJlbnRGcmFtZSkge1xuICAgICAgKHByb2dyYW0gYXMgQVNULlRlbXBsYXRlKS5zeW1ib2xzID0gU3ltYm9sVGFibGUudG9wKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIChwcm9ncmFtIGFzIEFTVC5CbG9jaykuc3ltYm9scyA9IHBhcmVudEZyYW1lLnN5bWJvbHMhLmNoaWxkKHByb2dyYW0uYmxvY2tQYXJhbXMpO1xuICAgIH1cblxuICAgIGxldCBzdGFydFR5cGU6IHN0cmluZywgZW5kVHlwZTogc3RyaW5nO1xuXG4gICAgaWYgKHRoaXMucHJvZ3JhbURlcHRoID09PSAwKSB7XG4gICAgICBzdGFydFR5cGUgPSAnc3RhcnRQcm9ncmFtJztcbiAgICAgIGVuZFR5cGUgPSAnZW5kUHJvZ3JhbSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXJ0VHlwZSA9ICdzdGFydEJsb2NrJztcbiAgICAgIGVuZFR5cGUgPSAnZW5kQmxvY2snO1xuICAgIH1cblxuICAgIHByb2dyYW1GcmFtZS5wYXJlbnROb2RlID0gcHJvZ3JhbTtcbiAgICBwcm9ncmFtRnJhbWUuY2hpbGRyZW4gPSBwcm9ncmFtLmJvZHk7XG4gICAgcHJvZ3JhbUZyYW1lLmNoaWxkQ291bnQgPSBwcm9ncmFtLmJvZHkubGVuZ3RoO1xuICAgIHByb2dyYW1GcmFtZS5ibGFua0NoaWxkVGV4dE5vZGVzID0gW107XG4gICAgcHJvZ3JhbUZyYW1lLmFjdGlvbnMucHVzaChbZW5kVHlwZSwgW3Byb2dyYW0sIHRoaXMucHJvZ3JhbURlcHRoXV0gYXMgQWN0aW9uKTtcbiAgICBwcm9ncmFtRnJhbWUuc3ltYm9scyA9IHByb2dyYW1bJ3N5bWJvbHMnXSE7XG5cbiAgICBmb3IgKGxldCBpID0gcHJvZ3JhbS5ib2R5Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBwcm9ncmFtRnJhbWUuY2hpbGRJbmRleCA9IGk7XG4gICAgICB0aGlzLnZpc2l0KHByb2dyYW0uYm9keVtpXSk7XG4gICAgfVxuXG4gICAgcHJvZ3JhbUZyYW1lLmFjdGlvbnMucHVzaChbXG4gICAgICBzdGFydFR5cGUsXG4gICAgICBbcHJvZ3JhbSwgcHJvZ3JhbUZyYW1lLmNoaWxkVGVtcGxhdGVDb3VudCwgcHJvZ3JhbUZyYW1lLmJsYW5rQ2hpbGRUZXh0Tm9kZXMucmV2ZXJzZSgpXSxcbiAgICBdIGFzIEFjdGlvbik7XG4gICAgdGhpcy5wb3BGcmFtZSgpO1xuXG4gICAgdGhpcy5wcm9ncmFtRGVwdGgtLTtcblxuICAgIC8vIFB1c2ggdGhlIGNvbXBsZXRlZCB0ZW1wbGF0ZSBpbnRvIHRoZSBnbG9iYWwgYWN0aW9ucyBsaXN0XG4gICAgaWYgKHBhcmVudEZyYW1lKSB7XG4gICAgICBwYXJlbnRGcmFtZS5jaGlsZFRlbXBsYXRlQ291bnQrKztcbiAgICB9XG4gICAgdGhpcy5hY3Rpb25zLnB1c2goLi4ucHJvZ3JhbUZyYW1lLmFjdGlvbnMucmV2ZXJzZSgpKTtcbiAgfVxuXG4gIEVsZW1lbnROb2RlKGVsZW1lbnQ6IEFTVC5FbGVtZW50Tm9kZSkge1xuICAgIGxldCBwYXJlbnRGcmFtZSA9IHRoaXMuY3VycmVudEZyYW1lO1xuICAgIGxldCBlbGVtZW50RnJhbWUgPSB0aGlzLnB1c2hGcmFtZSgpO1xuXG4gICAgZWxlbWVudEZyYW1lLnBhcmVudE5vZGUgPSBlbGVtZW50O1xuICAgIGVsZW1lbnRGcmFtZS5jaGlsZHJlbiA9IGVsZW1lbnQuY2hpbGRyZW47XG4gICAgZWxlbWVudEZyYW1lLmNoaWxkQ291bnQgPSBlbGVtZW50LmNoaWxkcmVuLmxlbmd0aDtcbiAgICBlbGVtZW50RnJhbWUubXVzdGFjaGVDb3VudCArPSBlbGVtZW50Lm1vZGlmaWVycy5sZW5ndGg7XG4gICAgZWxlbWVudEZyYW1lLmJsYW5rQ2hpbGRUZXh0Tm9kZXMgPSBbXTtcbiAgICBlbGVtZW50RnJhbWUuc3ltYm9scyA9IGVsZW1lbnQuc3ltYm9scyA9IHBhcmVudEZyYW1lLnN5bWJvbHMhLmNoaWxkKGVsZW1lbnQuYmxvY2tQYXJhbXMpO1xuXG4gICAgbGV0IGFjdGlvbkFyZ3M6IFtBU1QuRWxlbWVudE5vZGUsIG51bWJlciwgbnVtYmVyXSA9IFtcbiAgICAgIGVsZW1lbnQsXG4gICAgICBwYXJlbnRGcmFtZS5jaGlsZEluZGV4ISxcbiAgICAgIHBhcmVudEZyYW1lLmNoaWxkQ291bnQhLFxuICAgIF07XG5cbiAgICBlbGVtZW50RnJhbWUuYWN0aW9ucy5wdXNoKFsnY2xvc2VFbGVtZW50JywgYWN0aW9uQXJnc10pO1xuXG4gICAgZm9yIChsZXQgaSA9IGVsZW1lbnQuYXR0cmlidXRlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgdGhpcy52aXNpdChlbGVtZW50LmF0dHJpYnV0ZXNbaV0pO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSBlbGVtZW50LmNoaWxkcmVuLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBlbGVtZW50RnJhbWUuY2hpbGRJbmRleCA9IGk7XG4gICAgICB0aGlzLnZpc2l0KGVsZW1lbnQuY2hpbGRyZW5baV0pO1xuICAgIH1cblxuICAgIGxldCBvcGVuID0gW1xuICAgICAgJ29wZW5FbGVtZW50JyxcbiAgICAgIFsuLi5hY3Rpb25BcmdzLCBlbGVtZW50RnJhbWUubXVzdGFjaGVDb3VudCwgZWxlbWVudEZyYW1lLmJsYW5rQ2hpbGRUZXh0Tm9kZXMucmV2ZXJzZSgpXSxcbiAgICBdIGFzIEFjdGlvbi5PcGVuRWxlbWVudDtcbiAgICBlbGVtZW50RnJhbWUuYWN0aW9ucy5wdXNoKG9wZW4pO1xuXG4gICAgdGhpcy5wb3BGcmFtZSgpO1xuXG4gICAgLy8gUHJvcGFnYXRlIHRoZSBlbGVtZW50J3MgZnJhbWUgc3RhdGUgdG8gdGhlIHBhcmVudCBmcmFtZVxuICAgIGlmIChlbGVtZW50RnJhbWUubXVzdGFjaGVDb3VudCA+IDApIHtcbiAgICAgIHBhcmVudEZyYW1lLm11c3RhY2hlQ291bnQrKztcbiAgICB9XG4gICAgcGFyZW50RnJhbWUuY2hpbGRUZW1wbGF0ZUNvdW50ICs9IGVsZW1lbnRGcmFtZS5jaGlsZFRlbXBsYXRlQ291bnQ7XG4gICAgcGFyZW50RnJhbWUuYWN0aW9ucy5wdXNoKC4uLmVsZW1lbnRGcmFtZS5hY3Rpb25zKTtcbiAgfVxuXG4gIEF0dHJOb2RlKGF0dHI6IEFTVC5BdHRyTm9kZSkge1xuICAgIGlmIChhdHRyLnZhbHVlLnR5cGUgIT09ICdUZXh0Tm9kZScpIHtcbiAgICAgIHRoaXMuY3VycmVudEZyYW1lLm11c3RhY2hlQ291bnQrKztcbiAgICB9XG4gIH1cblxuICBUZXh0Tm9kZSh0ZXh0OiBBU1QuVGV4dE5vZGUpIHtcbiAgICBsZXQgZnJhbWUgPSB0aGlzLmN1cnJlbnRGcmFtZTtcbiAgICBpZiAodGV4dC5jaGFycyA9PT0gJycpIHtcbiAgICAgIGZyYW1lLmJsYW5rQ2hpbGRUZXh0Tm9kZXMhLnB1c2goZG9tSW5kZXhPZihmcmFtZS5jaGlsZHJlbiEsIHRleHQpKTtcbiAgICB9XG4gICAgZnJhbWUuYWN0aW9ucy5wdXNoKFsndGV4dCcsIFt0ZXh0LCBmcmFtZS5jaGlsZEluZGV4LCBmcmFtZS5jaGlsZENvdW50XV0gYXMgQWN0aW9uKTtcbiAgfVxuXG4gIEJsb2NrU3RhdGVtZW50KG5vZGU6IEFTVC5CbG9ja1N0YXRlbWVudCkge1xuICAgIGxldCBmcmFtZSA9IHRoaXMuY3VycmVudEZyYW1lO1xuXG4gICAgZnJhbWUubXVzdGFjaGVDb3VudCsrO1xuICAgIGZyYW1lLmFjdGlvbnMucHVzaChbJ2Jsb2NrJywgW25vZGUsIGZyYW1lLmNoaWxkSW5kZXgsIGZyYW1lLmNoaWxkQ291bnRdXSBhcyBBY3Rpb24pO1xuXG4gICAgaWYgKG5vZGUuaW52ZXJzZSkge1xuICAgICAgdGhpcy52aXNpdChub2RlLmludmVyc2UpO1xuICAgIH1cbiAgICBpZiAobm9kZS5wcm9ncmFtKSB7XG4gICAgICB0aGlzLnZpc2l0KG5vZGUucHJvZ3JhbSk7XG4gICAgfVxuICB9XG5cbiAgUGFydGlhbFN0YXRlbWVudChub2RlOiBBU1QuUGFydGlhbFN0YXRlbWVudCkge1xuICAgIGxldCBmcmFtZSA9IHRoaXMuY3VycmVudEZyYW1lO1xuICAgIGZyYW1lLm11c3RhY2hlQ291bnQrKztcbiAgICBmcmFtZS5hY3Rpb25zLnB1c2goWydtdXN0YWNoZScsIFtub2RlLCBmcmFtZS5jaGlsZEluZGV4LCBmcmFtZS5jaGlsZENvdW50XV0gYXMgQWN0aW9uKTtcbiAgfVxuXG4gIENvbW1lbnRTdGF0ZW1lbnQodGV4dDogQVNULkNvbW1lbnRTdGF0ZW1lbnQpIHtcbiAgICBsZXQgZnJhbWUgPSB0aGlzLmN1cnJlbnRGcmFtZTtcbiAgICBmcmFtZS5hY3Rpb25zLnB1c2goWydjb21tZW50JywgW3RleHQsIGZyYW1lLmNoaWxkSW5kZXgsIGZyYW1lLmNoaWxkQ291bnRdXSBhcyBBY3Rpb24pO1xuICB9XG5cbiAgTXVzdGFjaGVDb21tZW50U3RhdGVtZW50KCkge1xuICAgIC8vIEludGVudGlvbmFsIGVtcHR5OiBIYW5kbGViYXJzIGNvbW1lbnRzIHNob3VsZCBub3QgYWZmZWN0IG91dHB1dC5cbiAgfVxuXG4gIE11c3RhY2hlU3RhdGVtZW50KG11c3RhY2hlOiBBU1QuTXVzdGFjaGVTdGF0ZW1lbnQpIHtcbiAgICBsZXQgZnJhbWUgPSB0aGlzLmN1cnJlbnRGcmFtZTtcbiAgICBmcmFtZS5tdXN0YWNoZUNvdW50Kys7XG4gICAgZnJhbWUuYWN0aW9ucy5wdXNoKFsnbXVzdGFjaGUnLCBbbXVzdGFjaGUsIGZyYW1lLmNoaWxkSW5kZXgsIGZyYW1lLmNoaWxkQ291bnRdXSBhcyBBY3Rpb24pO1xuICB9XG5cbiAgLy8gRnJhbWUgaGVscGVyc1xuXG4gIHByaXZhdGUgZ2V0IGN1cnJlbnRGcmFtZSgpOiBGcmFtZSB7XG4gICAgcmV0dXJuIGV4cGVjdCh0aGlzLmdldEN1cnJlbnRGcmFtZSgpLCAnRXhwZWN0ZWQgYSBjdXJyZW50IGZyYW1lJyk7XG4gIH1cblxuICBwcml2YXRlIGdldEN1cnJlbnRGcmFtZSgpOiBPcHRpb248RnJhbWU+IHtcbiAgICByZXR1cm4gdGhpcy5mcmFtZVN0YWNrW3RoaXMuZnJhbWVTdGFjay5sZW5ndGggLSAxXTtcbiAgfVxuXG4gIHByaXZhdGUgcHVzaEZyYW1lKCkge1xuICAgIGxldCBmcmFtZSA9IG5ldyBGcmFtZSgpO1xuICAgIHRoaXMuZnJhbWVTdGFjay5wdXNoKGZyYW1lKTtcbiAgICByZXR1cm4gZnJhbWU7XG4gIH1cblxuICBwcml2YXRlIHBvcEZyYW1lKCkge1xuICAgIHJldHVybiB0aGlzLmZyYW1lU3RhY2sucG9wKCk7XG4gIH1cbn1cblxuLy8gUmV0dXJucyB0aGUgaW5kZXggb2YgYGRvbU5vZGVgIGluIHRoZSBgbm9kZXNgIGFycmF5LCBza2lwcGluZ1xuLy8gb3ZlciBhbnkgbm9kZXMgd2hpY2ggZG8gbm90IHJlcHJlc2VudCBET00gbm9kZXMuXG5mdW5jdGlvbiBkb21JbmRleE9mKG5vZGVzOiBBU1QuTm9kZVtdLCBkb21Ob2RlOiBBU1QuVGV4dE5vZGUgfCBBU1QuRWxlbWVudE5vZGUpIHtcbiAgbGV0IGluZGV4ID0gLTE7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgIGxldCBub2RlID0gbm9kZXNbaV07XG5cbiAgICBpZiAobm9kZS50eXBlICE9PSAnVGV4dE5vZGUnICYmIG5vZGUudHlwZSAhPT0gJ0VsZW1lbnROb2RlJykge1xuICAgICAgY29udGludWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluZGV4Kys7XG4gICAgfVxuXG4gICAgaWYgKG5vZGUgPT09IGRvbU5vZGUpIHtcbiAgICAgIHJldHVybiBpbmRleDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gLTE7XG59XG4iLCJpbXBvcnQgeyBhc3NlcnQgfSBmcm9tICdAZ2xpbW1lci91dGlsJztcbmltcG9ydCB7IFN0YWNrLCBEaWN0U2V0LCBPcHRpb24sIGV4cGVjdCB9IGZyb20gJ0BnbGltbWVyL3V0aWwnO1xuaW1wb3J0IHsgQVNUIH0gZnJvbSAnQGdsaW1tZXIvc3ludGF4JztcbmltcG9ydCB7IENvbXBpbGVPcHRpb25zIH0gZnJvbSAnLi90ZW1wbGF0ZS1jb21waWxlcic7XG5pbXBvcnQgeyBpc0FyZ3VtZW50LCBpc0F0dHJpYnV0ZSwgaXNGbHVzaEVsZW1lbnQgfSBmcm9tICdAZ2xpbW1lci93aXJlLWZvcm1hdCc7XG5pbXBvcnQgeyBQcm9jZXNzb3IsIENvbXBpbGVyT3BzLCBPcE5hbWUsIE9wIH0gZnJvbSAnLi9jb21waWxlci1vcHMnO1xuaW1wb3J0IHtcbiAgV2lyZUZvcm1hdCxcbiAgU2VyaWFsaXplZElubGluZUJsb2NrLFxuICBTdGF0ZW1lbnQsXG4gIFNlcmlhbGl6ZWRUZW1wbGF0ZUJsb2NrLFxuICBTdGF0ZW1lbnRzLFxuICBTZXhwT3Bjb2RlcyxcbiAgRXhwcmVzc2lvbixcbiAgRXhwcmVzc2lvbnMsXG59IGZyb20gJ0BnbGltbWVyL2ludGVyZmFjZXMnO1xuXG5leHBvcnQgdHlwZSBzdHIgPSBzdHJpbmc7XG5pbXBvcnQgQ29yZSA9IFdpcmVGb3JtYXQuQ29yZTtcbmV4cG9ydCB0eXBlIFBhcmFtcyA9IFdpcmVGb3JtYXQuQ29yZS5QYXJhbXM7XG5leHBvcnQgdHlwZSBIYXNoID0gV2lyZUZvcm1hdC5Db3JlLkhhc2g7XG5leHBvcnQgdHlwZSBQYXRoID0gV2lyZUZvcm1hdC5Db3JlLlBhdGg7XG5leHBvcnQgdHlwZSBTdGFja1ZhbHVlID0gV2lyZUZvcm1hdC5FeHByZXNzaW9uIHwgUGFyYW1zIHwgSGFzaCB8IHN0cjtcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEJsb2NrIHtcbiAgcHVibGljIHN0YXRlbWVudHM6IFdpcmVGb3JtYXQuU3RhdGVtZW50W10gPSBbXTtcblxuICBhYnN0cmFjdCB0b0pTT04oKTogT2JqZWN0O1xuXG4gIHB1c2goc3RhdGVtZW50OiBXaXJlRm9ybWF0LlN0YXRlbWVudCkge1xuICAgIHRoaXMuc3RhdGVtZW50cy5wdXNoKHN0YXRlbWVudCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIElubGluZUJsb2NrIGV4dGVuZHMgQmxvY2sge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgdGFibGU6IEFTVC5CbG9ja1N5bWJvbHMpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgdG9KU09OKCk6IFNlcmlhbGl6ZWRJbmxpbmVCbG9jayB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXRlbWVudHM6IHRoaXMuc3RhdGVtZW50cyxcbiAgICAgIHBhcmFtZXRlcnM6IHRoaXMudGFibGUuc2xvdHMsXG4gICAgfTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTmFtZWRCbG9jayBleHRlbmRzIElubGluZUJsb2NrIHtcbiAgY29uc3RydWN0b3IocHVibGljIG5hbWU6IHN0cmluZywgdGFibGU6IEFTVC5CbG9ja1N5bWJvbHMpIHtcbiAgICBzdXBlcih0YWJsZSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRlbXBsYXRlQmxvY2sgZXh0ZW5kcyBCbG9jayB7XG4gIHB1YmxpYyB0eXBlID0gJ3RlbXBsYXRlJztcbiAgcHVibGljIHlpZWxkcyA9IG5ldyBEaWN0U2V0PHN0cmluZz4oKTtcbiAgcHVibGljIG5hbWVkID0gbmV3IERpY3RTZXQ8c3RyaW5nPigpO1xuICBwdWJsaWMgYmxvY2tzOiBTZXJpYWxpemVkSW5saW5lQmxvY2tbXSA9IFtdO1xuICBwdWJsaWMgaGFzRXZhbCA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgc3ltYm9sVGFibGU6IEFTVC5TeW1ib2xzKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIHB1c2goc3RhdGVtZW50OiBTdGF0ZW1lbnQpIHtcbiAgICB0aGlzLnN0YXRlbWVudHMucHVzaChzdGF0ZW1lbnQpO1xuICB9XG5cbiAgdG9KU09OKCk6IFNlcmlhbGl6ZWRUZW1wbGF0ZUJsb2NrIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3ltYm9sczogdGhpcy5zeW1ib2xUYWJsZS5zeW1ib2xzLFxuICAgICAgc3RhdGVtZW50czogdGhpcy5zdGF0ZW1lbnRzLFxuICAgICAgaGFzRXZhbDogdGhpcy5oYXNFdmFsLFxuICAgIH07XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbXBvbmVudEJsb2NrIGV4dGVuZHMgQmxvY2sge1xuICBwdWJsaWMgYXR0cmlidXRlczogU3RhdGVtZW50cy5BdHRyaWJ1dGVbXSA9IFtdO1xuICBwdWJsaWMgYXJndW1lbnRzOiBTdGF0ZW1lbnRzLkFyZ3VtZW50W10gPSBbXTtcbiAgcHJpdmF0ZSBpblBhcmFtcyA9IHRydWU7XG4gIHB1YmxpYyBwb3NpdGlvbmFsczogbnVtYmVyW10gPSBbXTtcbiAgcHVibGljIGJsb2NrczogQXJyYXk8W3N0cmluZywgU2VyaWFsaXplZElubGluZUJsb2NrXT4gPSBbXTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHRhZzogc3RyaW5nLCBwcml2YXRlIHRhYmxlOiBBU1QuQmxvY2tTeW1ib2xzLCBwcml2YXRlIHNlbGZDbG9zaW5nOiBib29sZWFuKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIHB1c2goc3RhdGVtZW50OiBTdGF0ZW1lbnQpIHtcbiAgICBpZiAodGhpcy5pblBhcmFtcykge1xuICAgICAgaWYgKGlzRmx1c2hFbGVtZW50KHN0YXRlbWVudCkpIHtcbiAgICAgICAgdGhpcy5pblBhcmFtcyA9IGZhbHNlO1xuICAgICAgfSBlbHNlIGlmIChpc0FyZ3VtZW50KHN0YXRlbWVudCkpIHtcbiAgICAgICAgdGhpcy5hcmd1bWVudHMucHVzaChzdGF0ZW1lbnQpO1xuICAgICAgfSBlbHNlIGlmIChpc0F0dHJpYnV0ZShzdGF0ZW1lbnQpKSB7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlcy5wdXNoKHN0YXRlbWVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbXBpbGUgRXJyb3I6IG9ubHkgcGFyYW1ldGVycyBhbGxvd2VkIGJlZm9yZSBmbHVzaC1lbGVtZW50Jyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc3RhdGVtZW50cy5wdXNoKHN0YXRlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgcHVzaEJsb2NrKG5hbWU6IHN0cmluZywgYmxvY2s6IFNlcmlhbGl6ZWRJbmxpbmVCbG9jaykge1xuICAgIHRoaXMuYmxvY2tzLnB1c2goW25hbWUsIGJsb2NrXSk7XG4gIH1cblxuICB0b0pTT04oKTogW3N0cmluZywgU3RhdGVtZW50cy5BdHRyaWJ1dGVbXSwgQ29yZS5IYXNoLCBDb3JlLkJsb2Nrc10ge1xuICAgIGxldCBibG9ja3M6IENvcmUuQmxvY2tzO1xuICAgIGxldCBhcmdzID0gdGhpcy5hcmd1bWVudHM7XG4gICAgbGV0IGtleXMgPSBhcmdzLm1hcChhcmcgPT4gYXJnWzFdKTtcbiAgICBsZXQgdmFsdWVzID0gYXJncy5tYXAoYXJnID0+IGFyZ1syXSk7XG5cbiAgICBpZiAodGhpcy5zZWxmQ2xvc2luZykge1xuICAgICAgYmxvY2tzID0gbnVsbDtcbiAgICB9IGVsc2UgaWYgKHRoaXMuYmxvY2tzLmxlbmd0aCA+IDApIHtcbiAgICAgIGxldCBrZXlzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgbGV0IHZhbHVlczogU2VyaWFsaXplZElubGluZUJsb2NrW10gPSBbXTtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmJsb2Nrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgW2tleSwgdmFsdWVdID0gdGhpcy5ibG9ja3NbaV07XG4gICAgICAgIGtleXMucHVzaChrZXkuc2xpY2UoMSkpO1xuICAgICAgICB2YWx1ZXMucHVzaCh2YWx1ZSk7XG4gICAgICB9XG4gICAgICBibG9ja3MgPSBba2V5cywgdmFsdWVzXTtcbiAgICB9IGVsc2Uge1xuICAgICAgYmxvY2tzID0gW1xuICAgICAgICBbJ2RlZmF1bHQnXSxcbiAgICAgICAgW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHN0YXRlbWVudHM6IHRoaXMuc3RhdGVtZW50cyxcbiAgICAgICAgICAgIHBhcmFtZXRlcnM6IHRoaXMudGFibGUuc2xvdHMsXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgIF07XG4gICAgfVxuXG4gICAgcmV0dXJuIFt0aGlzLnRhZywgdGhpcy5hdHRyaWJ1dGVzLCBba2V5cywgdmFsdWVzXSwgYmxvY2tzXTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVGVtcGxhdGUge1xuICBwdWJsaWMgYmxvY2s6IFRlbXBsYXRlQmxvY2s7XG5cbiAgY29uc3RydWN0b3Ioc3ltYm9sczogQVNULlN5bWJvbHMpIHtcbiAgICB0aGlzLmJsb2NrID0gbmV3IFRlbXBsYXRlQmxvY2soc3ltYm9scyk7XG4gIH1cblxuICB0b0pTT04oKTogU2VyaWFsaXplZFRlbXBsYXRlQmxvY2sge1xuICAgIHJldHVybiB0aGlzLmJsb2NrLnRvSlNPTigpO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIEluVmFyaWFibGUgPSBudW1iZXI7XG5leHBvcnQgdHlwZSBJbk9wPEsgZXh0ZW5kcyBrZXlvZiBDb21waWxlck9wczxJblZhcmlhYmxlPiA9IE9wTmFtZT4gPSBPcDxcbiAgSW5WYXJpYWJsZSxcbiAgQ29tcGlsZXJPcHM8SW5WYXJpYWJsZT4sXG4gIEtcbj47XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEphdmFTY3JpcHRDb21waWxlclxuICBpbXBsZW1lbnRzIFByb2Nlc3NvcjxDb21waWxlck9wczxudW1iZXI+LCB2b2lkLCBDb21waWxlck9wczx2b2lkPj4ge1xuICBzdGF0aWMgcHJvY2VzcyhvcGNvZGVzOiBJbk9wW10sIHN5bWJvbHM6IEFTVC5TeW1ib2xzLCBvcHRpb25zPzogQ29tcGlsZU9wdGlvbnMpOiBUZW1wbGF0ZSB7XG4gICAgbGV0IGNvbXBpbGVyID0gbmV3IEphdmFTY3JpcHRDb21waWxlcihvcGNvZGVzLCBzeW1ib2xzLCBvcHRpb25zKTtcbiAgICByZXR1cm4gY29tcGlsZXIucHJvY2VzcygpO1xuICB9XG5cbiAgcHJpdmF0ZSB0ZW1wbGF0ZTogVGVtcGxhdGU7XG4gIHByaXZhdGUgYmxvY2tzID0gbmV3IFN0YWNrPEJsb2NrPigpO1xuICBwcml2YXRlIG9wY29kZXM6IEluT3BbXTtcbiAgcHJpdmF0ZSB2YWx1ZXM6IFN0YWNrVmFsdWVbXSA9IFtdO1xuICBwcml2YXRlIG9wdGlvbnM6IENvbXBpbGVPcHRpb25zIHwgdW5kZWZpbmVkO1xuXG4gIGNvbnN0cnVjdG9yKG9wY29kZXM6IEluT3BbXSwgc3ltYm9sczogQVNULlN5bWJvbHMsIG9wdGlvbnM/OiBDb21waWxlT3B0aW9ucykge1xuICAgIHRoaXMub3Bjb2RlcyA9IG9wY29kZXM7XG4gICAgdGhpcy50ZW1wbGF0ZSA9IG5ldyBUZW1wbGF0ZShzeW1ib2xzKTtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICB9XG5cbiAgZ2V0IGN1cnJlbnRCbG9jaygpOiBCbG9jayB7XG4gICAgcmV0dXJuIGV4cGVjdCh0aGlzLmJsb2Nrcy5jdXJyZW50LCAnRXhwZWN0ZWQgYSBibG9jayBvbiB0aGUgc3RhY2snKTtcbiAgfVxuXG4gIGdldCBjdXJyZW50Q29tcG9uZW50KCk6IENvbXBvbmVudEJsb2NrIHtcbiAgICBsZXQgYmxvY2sgPSB0aGlzLmN1cnJlbnRCbG9jaztcblxuICAgIGlmIChibG9jayBpbnN0YW5jZW9mIENvbXBvbmVudEJsb2NrKSB7XG4gICAgICByZXR1cm4gYmxvY2s7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgQ29tcG9uZW50QmxvY2sgb24gc3RhY2ssIGZvdW5kICR7YmxvY2suY29uc3RydWN0b3IubmFtZX1gKTtcbiAgICB9XG4gIH1cblxuICBwcm9jZXNzKCk6IFRlbXBsYXRlIHtcbiAgICB0aGlzLm9wY29kZXMuZm9yRWFjaChvcCA9PiB7XG4gICAgICBsZXQgb3Bjb2RlID0gb3BbMF07XG4gICAgICBsZXQgYXJnID0gb3BbMV07XG5cbiAgICAgIGlmICghdGhpc1tvcGNvZGVdKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgdW5pbXBsZW1lbnRlZCAke29wY29kZX0gb24gSmF2YVNjcmlwdENvbXBpbGVyYCk7XG4gICAgICB9XG4gICAgICAodGhpc1tvcGNvZGVdIGFzIGFueSkoYXJnKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy50ZW1wbGF0ZTtcbiAgfVxuXG4gIC8vLyBOZXN0aW5nXG5cbiAgc3RhcnRCbG9jayhwcm9ncmFtOiBBU1QuQmxvY2spIHtcbiAgICB0aGlzLnN0YXJ0SW5saW5lQmxvY2socHJvZ3JhbS5zeW1ib2xzISk7XG4gIH1cblxuICBlbmRCbG9jaygpIHtcbiAgICBsZXQgYmxvY2sgPSB0aGlzLmVuZElubGluZUJsb2NrKCk7XG4gICAgdGhpcy50ZW1wbGF0ZS5ibG9jay5ibG9ja3MucHVzaChibG9jayk7XG4gIH1cblxuICBzdGFydFByb2dyYW0oKSB7XG4gICAgdGhpcy5ibG9ja3MucHVzaCh0aGlzLnRlbXBsYXRlLmJsb2NrKTtcbiAgfVxuXG4gIGVuZFByb2dyYW0oKSB7fVxuXG4gIC8vLyBTdGF0ZW1lbnRzXG5cbiAgdGV4dChjb250ZW50OiBzdHJpbmcpIHtcbiAgICB0aGlzLnB1c2goW1NleHBPcGNvZGVzLlRleHQsIGNvbnRlbnRdKTtcbiAgfVxuXG4gIGFwcGVuZCh0cnVzdGVkOiBib29sZWFuKSB7XG4gICAgdGhpcy5wdXNoKFtTZXhwT3Bjb2Rlcy5BcHBlbmQsIHRoaXMucG9wVmFsdWU8RXhwcmVzc2lvbj4oKSwgdHJ1c3RlZF0pO1xuICB9XG5cbiAgY29tbWVudCh2YWx1ZTogc3RyaW5nKSB7XG4gICAgdGhpcy5wdXNoKFtTZXhwT3Bjb2Rlcy5Db21tZW50LCB2YWx1ZV0pO1xuICB9XG5cbiAgbW9kaWZpZXIobmFtZTogc3RyaW5nKSB7XG4gICAgbGV0IHBhcmFtcyA9IHRoaXMucG9wVmFsdWU8UGFyYW1zPigpO1xuICAgIGxldCBoYXNoID0gdGhpcy5wb3BWYWx1ZTxIYXNoPigpO1xuICAgIHRoaXMucHVzaChbU2V4cE9wY29kZXMuTW9kaWZpZXIsIG5hbWUsIHBhcmFtcywgaGFzaF0pO1xuICB9XG5cbiAgYmxvY2soW25hbWUsIHRlbXBsYXRlLCBpbnZlcnNlXTogW3N0cmluZywgbnVtYmVyLCBPcHRpb248bnVtYmVyPl0pIHtcbiAgICBsZXQgcGFyYW1zID0gdGhpcy5wb3BWYWx1ZTxQYXJhbXM+KCk7XG4gICAgbGV0IGhhc2ggPSB0aGlzLnBvcFZhbHVlPEhhc2g+KCk7XG5cbiAgICBsZXQgYmxvY2tzID0gdGhpcy50ZW1wbGF0ZS5ibG9jay5ibG9ja3M7XG4gICAgYXNzZXJ0KFxuICAgICAgdHlwZW9mIHRlbXBsYXRlICE9PSAnbnVtYmVyJyB8fCBibG9ja3NbdGVtcGxhdGVdICE9PSBudWxsLFxuICAgICAgJ21pc3NpbmcgYmxvY2sgaW4gdGhlIGNvbXBpbGVyJ1xuICAgICk7XG4gICAgYXNzZXJ0KFxuICAgICAgdHlwZW9mIGludmVyc2UgIT09ICdudW1iZXInIHx8IGJsb2Nrc1tpbnZlcnNlXSAhPT0gbnVsbCxcbiAgICAgICdtaXNzaW5nIGJsb2NrIGluIHRoZSBjb21waWxlcidcbiAgICApO1xuXG4gICAgbGV0IG5hbWVkQmxvY2tzOiBPcHRpb248Q29yZS5CbG9ja3M+O1xuXG4gICAgaWYgKHRlbXBsYXRlID09PSBudWxsICYmIGludmVyc2UgPT09IG51bGwpIHtcbiAgICAgIG5hbWVkQmxvY2tzID0gbnVsbDtcbiAgICB9IGVsc2UgaWYgKGludmVyc2UgPT09IG51bGwpIHtcbiAgICAgIG5hbWVkQmxvY2tzID0gW1snZGVmYXVsdCddLCBbYmxvY2tzW3RlbXBsYXRlXV1dO1xuICAgIH0gZWxzZSB7XG4gICAgICBuYW1lZEJsb2NrcyA9IFtbJ2RlZmF1bHQnLCAnZWxzZSddLCBbYmxvY2tzW3RlbXBsYXRlXSwgYmxvY2tzW2ludmVyc2VdXV07XG4gICAgfVxuXG4gICAgdGhpcy5wdXNoKFtTZXhwT3Bjb2Rlcy5CbG9jaywgbmFtZSwgcGFyYW1zLCBoYXNoLCBuYW1lZEJsb2Nrc10pO1xuICB9XG5cbiAgb3BlbkNvbXBvbmVudChlbGVtZW50OiBBU1QuRWxlbWVudE5vZGUpIHtcbiAgICBsZXQgdGFnID1cbiAgICAgIHRoaXMub3B0aW9ucyAmJiB0aGlzLm9wdGlvbnMuY3VzdG9taXplQ29tcG9uZW50TmFtZVxuICAgICAgICA/IHRoaXMub3B0aW9ucy5jdXN0b21pemVDb21wb25lbnROYW1lKGVsZW1lbnQudGFnKVxuICAgICAgICA6IGVsZW1lbnQudGFnO1xuICAgIGxldCBjb21wb25lbnQgPSBuZXcgQ29tcG9uZW50QmxvY2sodGFnLCBlbGVtZW50LnN5bWJvbHMhLCBlbGVtZW50LnNlbGZDbG9zaW5nKTtcbiAgICB0aGlzLmJsb2Nrcy5wdXNoKGNvbXBvbmVudCk7XG4gIH1cblxuICBvcGVuTmFtZWRCbG9jayhlbGVtZW50OiBBU1QuRWxlbWVudE5vZGUpIHtcbiAgICBsZXQgYmxvY2s6IEJsb2NrID0gbmV3IE5hbWVkQmxvY2soZWxlbWVudC50YWcsIGVsZW1lbnQuc3ltYm9scyEpO1xuICAgIHRoaXMuYmxvY2tzLnB1c2goYmxvY2spO1xuICB9XG5cbiAgb3BlbkVsZW1lbnQoW2VsZW1lbnQsIHNpbXBsZV06IFtBU1QuRWxlbWVudE5vZGUsIGJvb2xlYW5dKSB7XG4gICAgbGV0IHRhZyA9IGVsZW1lbnQudGFnO1xuXG4gICAgaWYgKGVsZW1lbnQuYmxvY2tQYXJhbXMubGVuZ3RoID4gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgQ29tcGlsZSBFcnJvcjogPCR7ZWxlbWVudC50YWd9PiBpcyBub3QgYSBjb21wb25lbnQgYW5kIGRvZXNuJ3Qgc3VwcG9ydCBibG9jayBwYXJhbWV0ZXJzYFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wdXNoKFtTZXhwT3Bjb2Rlcy5PcGVuRWxlbWVudCwgdGFnLCBzaW1wbGVdKTtcbiAgICB9XG4gIH1cblxuICBmbHVzaEVsZW1lbnQoKSB7XG4gICAgdGhpcy5wdXNoKFtTZXhwT3Bjb2Rlcy5GbHVzaEVsZW1lbnRdKTtcbiAgfVxuXG4gIGNsb3NlQ29tcG9uZW50KF9lbGVtZW50OiBBU1QuRWxlbWVudE5vZGUpIHtcbiAgICBsZXQgW3RhZywgYXR0cnMsIGFyZ3MsIGJsb2Nrc10gPSB0aGlzLmVuZENvbXBvbmVudCgpO1xuXG4gICAgdGhpcy5wdXNoKFtTZXhwT3Bjb2Rlcy5Db21wb25lbnQsIHRhZywgYXR0cnMsIGFyZ3MsIGJsb2Nrc10pO1xuICB9XG5cbiAgY2xvc2VOYW1lZEJsb2NrKF9lbGVtZW50OiBBU1QuRWxlbWVudE5vZGUpIHtcbiAgICBsZXQgeyBibG9ja3MgfSA9IHRoaXM7XG4gICAgbGV0IGJsb2NrID0gZXhwZWN0KGJsb2Nrcy5wb3AoKSwgYEV4cGVjdGVkIGEgbmFtZWQgYmxvY2sgb24gdGhlIHN0YWNrYCkgYXMgTmFtZWRCbG9jaztcblxuICAgIHRoaXMuY3VycmVudENvbXBvbmVudC5wdXNoQmxvY2soYmxvY2submFtZSwgYmxvY2sudG9KU09OKCkpO1xuICB9XG5cbiAgY2xvc2VEeW5hbWljQ29tcG9uZW50KF9lbGVtZW50OiBBU1QuRWxlbWVudE5vZGUpIHtcbiAgICBsZXQgWywgYXR0cnMsIGFyZ3MsIGJsb2NrXSA9IHRoaXMuZW5kQ29tcG9uZW50KCk7XG5cbiAgICB0aGlzLnB1c2goW1NleHBPcGNvZGVzLkR5bmFtaWNDb21wb25lbnQsIHRoaXMucG9wVmFsdWU8RXhwcmVzc2lvbj4oKSwgYXR0cnMsIGFyZ3MsIGJsb2NrXSk7XG4gIH1cblxuICBjbG9zZUVsZW1lbnQoX2VsZW1lbnQ6IEFTVC5FbGVtZW50Tm9kZSkge1xuICAgIHRoaXMucHVzaChbU2V4cE9wY29kZXMuQ2xvc2VFbGVtZW50XSk7XG4gIH1cblxuICBzdGF0aWNBdHRyKFtuYW1lLCBuYW1lc3BhY2VdOiBbc3RyaW5nLCBPcHRpb248c3RyaW5nPl0pIHtcbiAgICBsZXQgdmFsdWUgPSB0aGlzLnBvcFZhbHVlPHN0cmluZz4oKTtcbiAgICB0aGlzLnB1c2goW1NleHBPcGNvZGVzLlN0YXRpY0F0dHIsIG5hbWUsIHZhbHVlLCBuYW1lc3BhY2VdKTtcbiAgfVxuXG4gIGR5bmFtaWNBdHRyKFtuYW1lLCBuYW1lc3BhY2VdOiBbc3RyaW5nLCBPcHRpb248c3RyaW5nPl0pIHtcbiAgICBsZXQgdmFsdWUgPSB0aGlzLnBvcFZhbHVlPEV4cHJlc3Npb24+KCk7XG4gICAgdGhpcy5wdXNoKFtTZXhwT3Bjb2Rlcy5EeW5hbWljQXR0ciwgbmFtZSwgdmFsdWUsIG5hbWVzcGFjZV0pO1xuICB9XG5cbiAgY29tcG9uZW50QXR0cihbbmFtZSwgbmFtZXNwYWNlXTogW3N0cmluZywgT3B0aW9uPHN0cmluZz5dKSB7XG4gICAgbGV0IHZhbHVlID0gdGhpcy5wb3BWYWx1ZTxFeHByZXNzaW9uPigpO1xuICAgIHRoaXMucHVzaChbU2V4cE9wY29kZXMuQ29tcG9uZW50QXR0ciwgbmFtZSwgdmFsdWUsIG5hbWVzcGFjZV0pO1xuICB9XG5cbiAgdHJ1c3RpbmdBdHRyKFtuYW1lLCBuYW1lc3BhY2VdOiBbc3RyaW5nLCBPcHRpb248c3RyaW5nPl0pIHtcbiAgICBsZXQgdmFsdWUgPSB0aGlzLnBvcFZhbHVlPEV4cHJlc3Npb24+KCk7XG4gICAgdGhpcy5wdXNoKFtTZXhwT3Bjb2Rlcy5UcnVzdGluZ0R5bmFtaWNBdHRyLCBuYW1lLCB2YWx1ZSwgbmFtZXNwYWNlIV0pO1xuICB9XG5cbiAgdHJ1c3RpbmdDb21wb25lbnRBdHRyKFtuYW1lLCBuYW1lc3BhY2VdOiBbc3RyaW5nLCBPcHRpb248c3RyaW5nPl0pIHtcbiAgICBsZXQgdmFsdWUgPSB0aGlzLnBvcFZhbHVlPEV4cHJlc3Npb24+KCk7XG4gICAgdGhpcy5wdXNoKFtTZXhwT3Bjb2Rlcy5UcnVzdGluZ0NvbXBvbmVudEF0dHIsIG5hbWUsIHZhbHVlLCBuYW1lc3BhY2UhXSk7XG4gIH1cblxuICBzdGF0aWNBcmcobmFtZTogc3RyKSB7XG4gICAgbGV0IHZhbHVlID0gdGhpcy5wb3BWYWx1ZTxFeHByZXNzaW9uPigpO1xuICAgIHRoaXMucHVzaChbU2V4cE9wY29kZXMuU3RhdGljQXJnLCBuYW1lLCB2YWx1ZV0pO1xuICB9XG5cbiAgZHluYW1pY0FyZyhuYW1lOiBzdHIpIHtcbiAgICBsZXQgdmFsdWUgPSB0aGlzLnBvcFZhbHVlPEV4cHJlc3Npb24+KCk7XG4gICAgdGhpcy5wdXNoKFtTZXhwT3Bjb2Rlcy5EeW5hbWljQXJnLCBuYW1lLCB2YWx1ZV0pO1xuICB9XG5cbiAgeWllbGQodG86IG51bWJlcikge1xuICAgIGxldCBwYXJhbXMgPSB0aGlzLnBvcFZhbHVlPFBhcmFtcz4oKTtcbiAgICB0aGlzLnB1c2goW1NleHBPcGNvZGVzLllpZWxkLCB0bywgcGFyYW1zXSk7XG4gIH1cblxuICBhdHRyU3BsYXQodG86IE9wdGlvbjxudW1iZXI+KSB7XG4gICAgLy8gY29uc3VtZSAoYW5kIGRpc3JlZ2FyZCkgdGhlIHZhbHVlIHB1c2hlZCBmb3IgdGhlXG4gICAgLy8gLi4uYXR0cmlidXRlcyBhdHRyaWJ1dGVcbiAgICB0aGlzLnBvcFZhbHVlKCk7XG4gICAgdGhpcy5wdXNoKFtTZXhwT3Bjb2Rlcy5BdHRyU3BsYXQsIHRvIV0pO1xuICB9XG5cbiAgZGVidWdnZXIoZXZhbEluZm86IE9wdGlvbjxDb3JlLkV2YWxJbmZvPikge1xuICAgIHRoaXMucHVzaChbU2V4cE9wY29kZXMuRGVidWdnZXIsIGV2YWxJbmZvIV0pO1xuICAgIHRoaXMudGVtcGxhdGUuYmxvY2suaGFzRXZhbCA9IHRydWU7XG4gIH1cblxuICBoYXNCbG9jayhuYW1lOiBudW1iZXIpIHtcbiAgICB0aGlzLnB1c2hWYWx1ZTxFeHByZXNzaW9ucy5IYXNCbG9jaz4oW1NleHBPcGNvZGVzLkhhc0Jsb2NrLCBuYW1lXSk7XG4gIH1cblxuICBoYXNCbG9ja1BhcmFtcyhuYW1lOiBudW1iZXIpIHtcbiAgICB0aGlzLnB1c2hWYWx1ZTxFeHByZXNzaW9ucy5IYXNCbG9ja1BhcmFtcz4oW1NleHBPcGNvZGVzLkhhc0Jsb2NrUGFyYW1zLCBuYW1lXSk7XG4gIH1cblxuICBwYXJ0aWFsKGV2YWxJbmZvOiBPcHRpb248Q29yZS5FdmFsSW5mbz4pIHtcbiAgICBsZXQgcGFyYW1zID0gdGhpcy5wb3BWYWx1ZTxQYXJhbXM+KCk7XG4gICAgdGhpcy5wdXNoKFtTZXhwT3Bjb2Rlcy5QYXJ0aWFsLCBwYXJhbXNbMF0sIGV2YWxJbmZvIV0pO1xuICAgIHRoaXMudGVtcGxhdGUuYmxvY2suaGFzRXZhbCA9IHRydWU7XG4gIH1cblxuICAvLy8gRXhwcmVzc2lvbnNcblxuICBsaXRlcmFsKHZhbHVlOiBFeHByZXNzaW9ucy5WYWx1ZSB8IHVuZGVmaW5lZCkge1xuICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnB1c2hWYWx1ZTxFeHByZXNzaW9ucy5VbmRlZmluZWQ+KFtTZXhwT3Bjb2Rlcy5VbmRlZmluZWRdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wdXNoVmFsdWU8RXhwcmVzc2lvbnMuVmFsdWU+KHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICB1bmtub3duKG5hbWU6IHN0cmluZykge1xuICAgIHRoaXMucHVzaFZhbHVlPEV4cHJlc3Npb25zLlVua25vd24+KFtTZXhwT3Bjb2Rlcy5Vbmtub3duLCBuYW1lXSk7XG4gIH1cblxuICBnZXQoW2hlYWQsIHBhdGhdOiBbbnVtYmVyLCBzdHJpbmdbXV0pIHtcbiAgICB0aGlzLnB1c2hWYWx1ZTxFeHByZXNzaW9ucy5HZXQ+KFtTZXhwT3Bjb2Rlcy5HZXQsIGhlYWQsIHBhdGhdKTtcbiAgfVxuXG4gIG1heWJlTG9jYWwocGF0aDogc3RyaW5nW10pIHtcbiAgICB0aGlzLnB1c2hWYWx1ZTxFeHByZXNzaW9ucy5NYXliZUxvY2FsPihbU2V4cE9wY29kZXMuTWF5YmVMb2NhbCwgcGF0aF0pO1xuICB9XG5cbiAgY29uY2F0KCkge1xuICAgIHRoaXMucHVzaFZhbHVlPEV4cHJlc3Npb25zLkNvbmNhdD4oW1NleHBPcGNvZGVzLkNvbmNhdCwgdGhpcy5wb3BWYWx1ZTxQYXJhbXM+KCldKTtcbiAgfVxuXG4gIGhlbHBlcihuYW1lOiBzdHJpbmcpIHtcbiAgICBsZXQgcGFyYW1zID0gdGhpcy5wb3BWYWx1ZTxQYXJhbXM+KCk7XG4gICAgbGV0IGhhc2ggPSB0aGlzLnBvcFZhbHVlPEhhc2g+KCk7XG5cbiAgICB0aGlzLnB1c2hWYWx1ZTxFeHByZXNzaW9ucy5IZWxwZXI+KFtTZXhwT3Bjb2Rlcy5IZWxwZXIsIG5hbWUsIHBhcmFtcywgaGFzaF0pO1xuICB9XG5cbiAgLy8vIFN0YWNrIE1hbmFnZW1lbnQgT3Bjb2Rlc1xuXG4gIHByZXBhcmVBcnJheShzaXplOiBudW1iZXIpIHtcbiAgICBsZXQgdmFsdWVzOiBFeHByZXNzaW9uW10gPSBbXTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICB2YWx1ZXMucHVzaCh0aGlzLnBvcFZhbHVlKCkgYXMgRXhwcmVzc2lvbik7XG4gICAgfVxuXG4gICAgdGhpcy5wdXNoVmFsdWU8UGFyYW1zPih2YWx1ZXMpO1xuICB9XG5cbiAgcHJlcGFyZU9iamVjdChzaXplOiBudW1iZXIpIHtcbiAgICBhc3NlcnQoXG4gICAgICB0aGlzLnZhbHVlcy5sZW5ndGggPj0gc2l6ZSxcbiAgICAgIGBFeHBlY3RlZCAke3NpemV9IHZhbHVlcyBvbiB0aGUgc3RhY2ssIGZvdW5kICR7dGhpcy52YWx1ZXMubGVuZ3RofWBcbiAgICApO1xuXG4gICAgbGV0IGtleXM6IHN0cmluZ1tdID0gbmV3IEFycmF5KHNpemUpO1xuICAgIGxldCB2YWx1ZXM6IEV4cHJlc3Npb25bXSA9IG5ldyBBcnJheShzaXplKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICBrZXlzW2ldID0gdGhpcy5wb3BWYWx1ZTxzdHI+KCk7XG4gICAgICB2YWx1ZXNbaV0gPSB0aGlzLnBvcFZhbHVlPEV4cHJlc3Npb24+KCk7XG4gICAgfVxuXG4gICAgdGhpcy5wdXNoVmFsdWU8SGFzaD4oW2tleXMsIHZhbHVlc10pO1xuICB9XG5cbiAgLy8vIFV0aWxpdGllc1xuXG4gIGVuZENvbXBvbmVudCgpOiBbc3RyaW5nLCBTdGF0ZW1lbnRzLkF0dHJpYnV0ZVtdLCBDb3JlLkhhc2gsIENvcmUuQmxvY2tzXSB7XG4gICAgbGV0IGNvbXBvbmVudCA9IHRoaXMuYmxvY2tzLnBvcCgpO1xuICAgIGFzc2VydChcbiAgICAgIGNvbXBvbmVudCBpbnN0YW5jZW9mIENvbXBvbmVudEJsb2NrLFxuICAgICAgJ0NvbXBpbGVyIGJ1ZzogZW5kQ29tcG9uZW50KCkgc2hvdWxkIGVuZCBhIGNvbXBvbmVudCdcbiAgICApO1xuXG4gICAgcmV0dXJuIChjb21wb25lbnQgYXMgQ29tcG9uZW50QmxvY2spLnRvSlNPTigpO1xuICB9XG5cbiAgc3RhcnRJbmxpbmVCbG9jayhzeW1ib2xzOiBBU1QuQmxvY2tTeW1ib2xzKSB7XG4gICAgbGV0IGJsb2NrOiBCbG9jayA9IG5ldyBJbmxpbmVCbG9jayhzeW1ib2xzKTtcbiAgICB0aGlzLmJsb2Nrcy5wdXNoKGJsb2NrKTtcbiAgfVxuXG4gIGVuZElubGluZUJsb2NrKCk6IFNlcmlhbGl6ZWRJbmxpbmVCbG9jayB7XG4gICAgbGV0IHsgYmxvY2tzIH0gPSB0aGlzO1xuICAgIGxldCBibG9jayA9IGJsb2Nrcy5wb3AoKSBhcyBJbmxpbmVCbG9jaztcbiAgICByZXR1cm4gYmxvY2sudG9KU09OKCk7XG4gIH1cblxuICBwdXNoKGFyZ3M6IFN0YXRlbWVudCkge1xuICAgIHRoaXMuY3VycmVudEJsb2NrLnB1c2goYXJncyk7XG4gIH1cblxuICBwdXNoVmFsdWU8UyBleHRlbmRzIEV4cHJlc3Npb24gfCBQYXJhbXMgfCBIYXNoPih2YWw6IFMpIHtcbiAgICB0aGlzLnZhbHVlcy5wdXNoKHZhbCk7XG4gIH1cblxuICBwb3BWYWx1ZTxUIGV4dGVuZHMgU3RhY2tWYWx1ZT4oKTogVCB7XG4gICAgYXNzZXJ0KHRoaXMudmFsdWVzLmxlbmd0aCwgJ05vIGV4cHJlc3Npb24gZm91bmQgb24gc3RhY2snKTtcbiAgICByZXR1cm4gdGhpcy52YWx1ZXMucG9wKCkgYXMgVDtcbiAgfVxufVxuIiwiaW1wb3J0IHsgRGljdCwgT3B0aW9uIH0gZnJvbSAnQGdsaW1tZXIvaW50ZXJmYWNlcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm9jZXNzT3Bjb2Rlcyhjb21waWxlcjogYW55LCBvcGNvZGVzOiBhbnkpIHtcbiAgZm9yIChsZXQgaSA9IDAsIGwgPSBvcGNvZGVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGxldCBtZXRob2QgPSBvcGNvZGVzW2ldWzBdO1xuICAgIGxldCBwYXJhbXMgPSBvcGNvZGVzW2ldWzFdO1xuICAgIGlmIChwYXJhbXMpIHtcbiAgICAgIGNvbXBpbGVyW21ldGhvZF0uYXBwbHkoY29tcGlsZXIsIHBhcmFtcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbXBpbGVyW21ldGhvZF0uY2FsbChjb21waWxlcik7XG4gICAgfVxuICB9XG59XG5cbi8vIFRoZXJlIGlzIGEgc21hbGwgd2hpdGVsaXN0IG9mIG5hbWVzcGFjZWQgYXR0cmlidXRlcyBzcGVjaWFsbHlcbi8vIGVudW1lcmF0ZWQgaW5cbi8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sL3N5bnRheC5odG1sI2F0dHJpYnV0ZXMtMFxuLy9cbi8vID4gV2hlbiBhIGZvcmVpZ24gZWxlbWVudCBoYXMgb25lIG9mIHRoZSBuYW1lc3BhY2VkIGF0dHJpYnV0ZXMgZ2l2ZW4gYnlcbi8vID4gdGhlIGxvY2FsIG5hbWUgYW5kIG5hbWVzcGFjZSBvZiB0aGUgZmlyc3QgYW5kIHNlY29uZCBjZWxscyBvZiBhIHJvd1xuLy8gPiBmcm9tIHRoZSBmb2xsb3dpbmcgdGFibGUsIGl0IG11c3QgYmUgd3JpdHRlbiB1c2luZyB0aGUgbmFtZSBnaXZlbiBieVxuLy8gPiB0aGUgdGhpcmQgY2VsbCBmcm9tIHRoZSBzYW1lIHJvdy5cbi8vXG4vLyBJbiBhbGwgb3RoZXIgY2FzZXMsIGNvbG9ucyBhcmUgaW50ZXJwcmV0ZWQgYXMgYSByZWd1bGFyIGNoYXJhY3RlclxuLy8gd2l0aCBubyBzcGVjaWFsIG1lYW5pbmc6XG4vL1xuLy8gPiBObyBvdGhlciBuYW1lc3BhY2VkIGF0dHJpYnV0ZSBjYW4gYmUgZXhwcmVzc2VkIGluIHRoZSBIVE1MIHN5bnRheC5cblxuY29uc3QgWExJTksgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc7XG5jb25zdCBYTUwgPSAnaHR0cDovL3d3dy53My5vcmcvWE1MLzE5OTgvbmFtZXNwYWNlJztcbmNvbnN0IFhNTE5TID0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAveG1sbnMvJztcblxuY29uc3QgV0hJVEVMSVNUOiBEaWN0PHN0cmluZyB8IHVuZGVmaW5lZD4gPSB7XG4gICd4bGluazphY3R1YXRlJzogWExJTkssXG4gICd4bGluazphcmNyb2xlJzogWExJTkssXG4gICd4bGluazpocmVmJzogWExJTkssXG4gICd4bGluazpyb2xlJzogWExJTkssXG4gICd4bGluazpzaG93JzogWExJTkssXG4gICd4bGluazp0aXRsZSc6IFhMSU5LLFxuICAneGxpbms6dHlwZSc6IFhMSU5LLFxuICAneG1sOmJhc2UnOiBYTUwsXG4gICd4bWw6bGFuZyc6IFhNTCxcbiAgJ3htbDpzcGFjZSc6IFhNTCxcbiAgeG1sbnM6IFhNTE5TLFxuICAneG1sbnM6eGxpbmsnOiBYTUxOUyxcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRBdHRyTmFtZXNwYWNlKGF0dHJOYW1lOiBzdHJpbmcpOiBPcHRpb248c3RyaW5nPiB7XG4gIHJldHVybiBXSElURUxJU1RbYXR0ck5hbWVdIHx8IG51bGw7XG59XG4iLCJpbXBvcnQgeyBDb21waWxlck9wcywgUHJvY2Vzc29yLCBPcCwgT3BOYW1lLCBUZW1wbGF0ZUNvbXBpbGVyT3BzLCBQYXRoSGVhZCB9IGZyb20gJy4vY29tcGlsZXItb3BzJztcbmltcG9ydCB7IEFTVCB9IGZyb20gJ0BnbGltbWVyL3N5bnRheCc7XG5pbXBvcnQgeyBPcHRpb24gfSBmcm9tICdAZ2xpbW1lci9pbnRlcmZhY2VzJztcbmltcG9ydCB7IFN0YWNrLCBleHBlY3QgfSBmcm9tICdAZ2xpbW1lci91dGlsJztcblxuZXhwb3J0IHR5cGUgSW5WYXJpYWJsZSA9IFBhdGhIZWFkO1xuZXhwb3J0IHR5cGUgT3V0VmFyaWFibGUgPSBudW1iZXI7XG5cbmV4cG9ydCB0eXBlIE91dE9wPEsgZXh0ZW5kcyBrZXlvZiBDb21waWxlck9wczxPdXRWYXJpYWJsZT4gPSBPcE5hbWU+ID0gT3A8XG4gIE91dFZhcmlhYmxlLFxuICBDb21waWxlck9wczxPdXRWYXJpYWJsZT4sXG4gIEtcbj47XG5leHBvcnQgdHlwZSBJbk9wPEsgZXh0ZW5kcyBrZXlvZiBUZW1wbGF0ZUNvbXBpbGVyT3BzID0ga2V5b2YgVGVtcGxhdGVDb21waWxlck9wcz4gPSBPcDxcbiAgUGF0aEhlYWQsXG4gIFRlbXBsYXRlQ29tcGlsZXJPcHMsXG4gIEtcbj47XG5cbmV4cG9ydCBjbGFzcyBTeW1ib2xBbGxvY2F0b3JcbiAgaW1wbGVtZW50cyBQcm9jZXNzb3I8Q29tcGlsZXJPcHM8SW5WYXJpYWJsZT4sIE91dFZhcmlhYmxlLCBDb21waWxlck9wczxPdXRWYXJpYWJsZT4+IHtcbiAgcHJpdmF0ZSBzeW1ib2xTdGFjayA9IG5ldyBTdGFjazxBU1QuU3ltYm9scz4oKTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIG9wczogQXJyYXk8SW5PcD4pIHt9XG5cbiAgcHJvY2VzcygpOiBPdXRPcFtdIHtcbiAgICBsZXQgb3V0OiBPdXRPcFtdID0gW107XG4gICAgbGV0IHsgb3BzIH0gPSB0aGlzO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBvcCA9IG9wc1tpXTtcbiAgICAgIGxldCByZXN1bHQgPSB0aGlzLmRpc3BhdGNoKG9wKTtcblxuICAgICAgaWYgKHJlc3VsdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG91dC5wdXNoKG9wIGFzIE91dE9wKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dC5wdXNoKHJlc3VsdCBhcyBhbnkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBvdXQ7XG4gIH1cblxuICBkaXNwYXRjaDxPIGV4dGVuZHMgSW5PcD4ob3A6IE8pOiB1bmtub3duIHtcbiAgICBsZXQgbmFtZSA9IG9wWzBdO1xuICAgIGxldCBvcGVyYW5kID0gb3BbMV07XG5cbiAgICByZXR1cm4gKHRoaXNbbmFtZV0gYXMgYW55KShvcGVyYW5kKTtcbiAgfVxuXG4gIGdldCBzeW1ib2xzKCk6IEFTVC5TeW1ib2xzIHtcbiAgICByZXR1cm4gZXhwZWN0KHRoaXMuc3ltYm9sU3RhY2suY3VycmVudCwgJ0V4cGVjdGVkIGEgc3ltYm9sIHRhYmxlIG9uIHRoZSBzdGFjaycpO1xuICB9XG5cbiAgc3RhcnRQcm9ncmFtKG9wOiBBU1QuVGVtcGxhdGUpIHtcbiAgICB0aGlzLnN5bWJvbFN0YWNrLnB1c2gob3Auc3ltYm9scyEpO1xuICB9XG5cbiAgZW5kUHJvZ3JhbShfb3A6IG51bGwpIHtcbiAgICB0aGlzLnN5bWJvbFN0YWNrLnBvcCgpO1xuICB9XG5cbiAgc3RhcnRCbG9jayhvcDogQVNULkJsb2NrKSB7XG4gICAgdGhpcy5zeW1ib2xTdGFjay5wdXNoKG9wLnN5bWJvbHMhKTtcbiAgfVxuXG4gIGVuZEJsb2NrKF9vcDogbnVsbCkge1xuICAgIHRoaXMuc3ltYm9sU3RhY2sucG9wKCk7XG4gIH1cblxuICBvcGVuTmFtZWRCbG9jayhvcDogQVNULkVsZW1lbnROb2RlKSB7XG4gICAgdGhpcy5zeW1ib2xTdGFjay5wdXNoKG9wLnN5bWJvbHMhKTtcbiAgfVxuXG4gIGNsb3NlTmFtZWRCbG9jayhfb3A6IEFTVC5FbGVtZW50Tm9kZSkge1xuICAgIHRoaXMuc3ltYm9sU3RhY2sucG9wKCk7XG4gIH1cblxuICBmbHVzaEVsZW1lbnQob3A6IEFTVC5FbGVtZW50Tm9kZSkge1xuICAgIHRoaXMuc3ltYm9sU3RhY2sucHVzaChvcC5zeW1ib2xzISk7XG4gIH1cblxuICBjbG9zZUVsZW1lbnQoX29wOiBBU1QuRWxlbWVudE5vZGUpIHtcbiAgICB0aGlzLnN5bWJvbFN0YWNrLnBvcCgpO1xuICB9XG5cbiAgY2xvc2VDb21wb25lbnQoX29wOiBBU1QuRWxlbWVudE5vZGUpIHtcbiAgICB0aGlzLnN5bWJvbFN0YWNrLnBvcCgpO1xuICB9XG5cbiAgY2xvc2VEeW5hbWljQ29tcG9uZW50KF9vcDogQVNULkVsZW1lbnROb2RlKSB7XG4gICAgdGhpcy5zeW1ib2xTdGFjay5wb3AoKTtcbiAgfVxuXG4gIGF0dHJTcGxhdChfb3A6IE9wdGlvbjxJblZhcmlhYmxlPik6IE91dE9wPCdhdHRyU3BsYXQnPiB7XG4gICAgcmV0dXJuIFsnYXR0clNwbGF0JywgdGhpcy5zeW1ib2xzLmFsbG9jYXRlQmxvY2soJ2F0dHJzJyldO1xuICB9XG5cbiAgZ2V0KG9wOiBbSW5WYXJpYWJsZSwgc3RyaW5nW11dKTogT3V0T3A8J2dldCcgfCAnbWF5YmVMb2NhbCc+IHtcbiAgICBsZXQgW25hbWUsIHJlc3RdID0gb3A7XG5cbiAgICBpZiAobmFtZSA9PT0gMCkge1xuICAgICAgcmV0dXJuIFsnZ2V0JywgWzAsIHJlc3RdXTtcbiAgICB9XG5cbiAgICBpZiAoaXNMb2NhbChuYW1lLCB0aGlzLnN5bWJvbHMpKSB7XG4gICAgICBsZXQgaGVhZCA9IHRoaXMuc3ltYm9scy5nZXQobmFtZSk7XG4gICAgICByZXR1cm4gWydnZXQnLCBbaGVhZCwgcmVzdF1dO1xuICAgIH0gZWxzZSBpZiAobmFtZVswXSA9PT0gJ0AnKSB7XG4gICAgICBsZXQgaGVhZCA9IHRoaXMuc3ltYm9scy5hbGxvY2F0ZU5hbWVkKG5hbWUpO1xuICAgICAgcmV0dXJuIFsnZ2V0JywgW2hlYWQsIHJlc3RdXTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFsnbWF5YmVMb2NhbCcsIFtuYW1lLCAuLi5yZXN0XV07XG4gICAgfVxuICB9XG5cbiAgbWF5YmVHZXQob3A6IFtJblZhcmlhYmxlLCBzdHJpbmdbXV0pOiBPdXRPcDwnZ2V0JyB8ICd1bmtub3duJyB8ICdtYXliZUxvY2FsJz4ge1xuICAgIGxldCBbbmFtZSwgcmVzdF0gPSBvcDtcblxuICAgIGlmIChuYW1lID09PSAwKSB7XG4gICAgICByZXR1cm4gWydnZXQnLCBbMCwgcmVzdF1dO1xuICAgIH1cblxuICAgIGlmIChpc0xvY2FsKG5hbWUsIHRoaXMuc3ltYm9scykpIHtcbiAgICAgIGxldCBoZWFkID0gdGhpcy5zeW1ib2xzLmdldChuYW1lKTtcbiAgICAgIHJldHVybiBbJ2dldCcsIFtoZWFkLCByZXN0XV07XG4gICAgfSBlbHNlIGlmIChuYW1lWzBdID09PSAnQCcpIHtcbiAgICAgIGxldCBoZWFkID0gdGhpcy5zeW1ib2xzLmFsbG9jYXRlTmFtZWQobmFtZSk7XG4gICAgICByZXR1cm4gWydnZXQnLCBbaGVhZCwgcmVzdF1dO1xuICAgIH0gZWxzZSBpZiAocmVzdC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBbJ3Vua25vd24nLCBuYW1lXTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFsnbWF5YmVMb2NhbCcsIFtuYW1lLCAuLi5yZXN0XV07XG4gICAgfVxuICB9XG5cbiAgeWllbGQob3A6IEluVmFyaWFibGUpOiBPdXRPcDwneWllbGQnPiB7XG4gICAgaWYgKG9wID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCB5aWVsZCB0byB0aGlzJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFsneWllbGQnLCB0aGlzLnN5bWJvbHMuYWxsb2NhdGVCbG9jayhvcCldO1xuICB9XG5cbiAgZGVidWdnZXIoX29wOiBPcHRpb248SW5WYXJpYWJsZVtdPik6IE91dE9wPCdkZWJ1Z2dlcic+IHtcbiAgICByZXR1cm4gWydkZWJ1Z2dlcicsIHRoaXMuc3ltYm9scy5nZXRFdmFsSW5mbygpXTtcbiAgfVxuXG4gIGhhc0Jsb2NrKG9wOiBJblZhcmlhYmxlKTogT3V0T3A8J2hhc0Jsb2NrJz4ge1xuICAgIGlmIChvcCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaGFzQmxvY2sgdGhpcycpO1xuICAgIH1cblxuICAgIHJldHVybiBbJ2hhc0Jsb2NrJywgdGhpcy5zeW1ib2xzLmFsbG9jYXRlQmxvY2sob3ApXTtcbiAgfVxuXG4gIGhhc0Jsb2NrUGFyYW1zKG9wOiBJblZhcmlhYmxlKTogT3V0T3A8J2hhc0Jsb2NrUGFyYW1zJz4ge1xuICAgIGlmIChvcCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaGFzQmxvY2tQYXJhbXMgdGhpcycpO1xuICAgIH1cblxuICAgIHJldHVybiBbJ2hhc0Jsb2NrUGFyYW1zJywgdGhpcy5zeW1ib2xzLmFsbG9jYXRlQmxvY2sob3ApXTtcbiAgfVxuXG4gIHBhcnRpYWwoX29wOiBPcHRpb248SW5WYXJpYWJsZVtdPik6IE91dE9wPCdwYXJ0aWFsJz4ge1xuICAgIHJldHVybiBbJ3BhcnRpYWwnLCB0aGlzLnN5bWJvbHMuZ2V0RXZhbEluZm8oKV07XG4gIH1cblxuICB0ZXh0KF9vcDogc3RyaW5nKSB7fVxuICBjb21tZW50KF9vcDogc3RyaW5nKSB7fVxuICBvcGVuQ29tcG9uZW50KF9vcDogQVNULkVsZW1lbnROb2RlKSB7fVxuICBvcGVuRWxlbWVudChfb3A6IFtBU1QuRWxlbWVudE5vZGUsIGJvb2xlYW5dKSB7fVxuICBzdGF0aWNBcmcoX29wOiBzdHJpbmcpIHt9XG4gIGR5bmFtaWNBcmcoX29wOiBzdHJpbmcpIHt9XG4gIHN0YXRpY0F0dHIoX29wOiBbc3RyaW5nLCBPcHRpb248c3RyaW5nPl0pIHt9XG4gIHRydXN0aW5nQXR0cihfb3A6IFtzdHJpbmcsIE9wdGlvbjxzdHJpbmc+XSkge31cbiAgZHluYW1pY0F0dHIoX29wOiBbc3RyaW5nLCBPcHRpb248c3RyaW5nPl0pIHt9XG4gIGNvbXBvbmVudEF0dHIoX29wOiBbc3RyaW5nLCBPcHRpb248c3RyaW5nPl0pIHt9XG4gIHRydXN0aW5nQ29tcG9uZW50QXR0cihfb3A6IFtzdHJpbmcsIE9wdGlvbjxzdHJpbmc+XSkge31cbiAgbW9kaWZpZXIoX29wOiBzdHJpbmcpIHt9XG4gIGFwcGVuZChfb3A6IGJvb2xlYW4pIHt9XG4gIGJsb2NrKF9vcDogW3N0cmluZywgbnVtYmVyLCBPcHRpb248bnVtYmVyPl0pIHt9XG4gIGxpdGVyYWwoX29wOiBzdHJpbmcgfCBib29sZWFuIHwgbnVtYmVyIHwgbnVsbCB8IHVuZGVmaW5lZCkge31cbiAgaGVscGVyKF9vcDogc3RyaW5nKSB7fVxuICB1bmtub3duKF9vcDogc3RyaW5nKSB7fVxuICBtYXliZUxvY2FsKF9vcDogc3RyaW5nW10pIHt9XG4gIHByZXBhcmVBcnJheShfb3A6IG51bWJlcikge31cbiAgcHJlcGFyZU9iamVjdChfb3A6IG51bWJlcikge31cbiAgY29uY2F0KF9vcDogbnVsbCkge31cbn1cblxuZnVuY3Rpb24gaXNMb2NhbChuYW1lOiBzdHJpbmcsIHN5bWJvbHM6IEFTVC5TeW1ib2xzKTogYm9vbGVhbiB7XG4gIHJldHVybiBzeW1ib2xzICYmIHN5bWJvbHMuaGFzKG5hbWUpO1xufVxuIiwiaW1wb3J0IFRlbXBsYXRlVmlzaXRvciwgeyBBY3Rpb24gfSBmcm9tICcuL3RlbXBsYXRlLXZpc2l0b3InO1xuaW1wb3J0IEphdmFTY3JpcHRDb21waWxlciwgeyBUZW1wbGF0ZSB9IGZyb20gJy4vamF2YXNjcmlwdC1jb21waWxlcic7XG5pbXBvcnQgeyBhc3NlcnQsIE9wdGlvbiB9IGZyb20gJ0BnbGltbWVyL3V0aWwnO1xuaW1wb3J0IHsgQVNULCBpc0xpdGVyYWwsIFN5bnRheEVycm9yIH0gZnJvbSAnQGdsaW1tZXIvc3ludGF4JztcbmltcG9ydCB7IGdldEF0dHJOYW1lc3BhY2UgfSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB7IFN5bWJvbEFsbG9jYXRvciwgSW5PcCBhcyBTeW1ib2xJbk9wLCBPdXRPcCBhcyBTeW1ib2xPdXRPcCB9IGZyb20gJy4vYWxsb2NhdGUtc3ltYm9scyc7XG5pbXBvcnQgeyBQYXRoSGVhZCB9IGZyb20gJy4vY29tcGlsZXItb3BzJztcbmltcG9ydCB7IERFQlVHIH0gZnJvbSAnQGdsaW1tZXIvbG9jYWwtZGVidWctZmxhZ3MnO1xuXG5leHBvcnQgaW50ZXJmYWNlIENvbXBpbGVPcHRpb25zIHtcbiAgbWV0YT86IHVua25vd247XG4gIGN1c3RvbWl6ZUNvbXBvbmVudE5hbWU/KHRhZzogc3RyaW5nKTogc3RyaW5nO1xufVxuXG5mdW5jdGlvbiBpc1RydXN0ZWRWYWx1ZSh2YWx1ZTogYW55KSB7XG4gIHJldHVybiB2YWx1ZS5lc2NhcGVkICE9PSB1bmRlZmluZWQgJiYgIXZhbHVlLmVzY2FwZWQ7XG59XG5cbmV4cG9ydCBjb25zdCBUSElTID0gMDtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGVtcGxhdGVDb21waWxlciB7XG4gIHN0YXRpYyBjb21waWxlKGFzdDogQVNULlRlbXBsYXRlLCBvcHRpb25zPzogQ29tcGlsZU9wdGlvbnMpOiBUZW1wbGF0ZSB7XG4gICAgbGV0IHRlbXBsYXRlVmlzaXRvciA9IG5ldyBUZW1wbGF0ZVZpc2l0b3IoKTtcbiAgICB0ZW1wbGF0ZVZpc2l0b3IudmlzaXQoYXN0KTtcblxuICAgIGxldCBjb21waWxlciA9IG5ldyBUZW1wbGF0ZUNvbXBpbGVyKCk7XG4gICAgbGV0IG9wY29kZXM6IFN5bWJvbEluT3BbXSA9IGNvbXBpbGVyLnByb2Nlc3ModGVtcGxhdGVWaXNpdG9yLmFjdGlvbnMpO1xuICAgIGxldCBzeW1ib2xzOiBTeW1ib2xPdXRPcFtdID0gbmV3IFN5bWJvbEFsbG9jYXRvcihvcGNvZGVzKS5wcm9jZXNzKCk7XG5cbiAgICBsZXQgb3V0ID0gSmF2YVNjcmlwdENvbXBpbGVyLnByb2Nlc3Moc3ltYm9scywgYXN0LnN5bWJvbHMhLCBvcHRpb25zKTtcblxuICAgIGlmIChERUJVRykge1xuICAgICAgY29uc29sZS5sb2coYFRlbXBsYXRlIC0+YCwgb3V0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3V0O1xuICB9XG5cbiAgcHJpdmF0ZSB0ZW1wbGF0ZUlkID0gMDtcbiAgcHJpdmF0ZSB0ZW1wbGF0ZUlkczogbnVtYmVyW10gPSBbXTtcbiAgcHJpdmF0ZSBvcGNvZGVzOiBTeW1ib2xJbk9wW10gPSBbXTtcbiAgcHJpdmF0ZSBpbmNsdWRlTWV0YSA9IGZhbHNlO1xuXG4gIHByb2Nlc3MoYWN0aW9uczogQWN0aW9uW10pOiBTeW1ib2xJbk9wW10ge1xuICAgIGFjdGlvbnMuZm9yRWFjaCgoW25hbWUsIC4uLmFyZ3NdKSA9PiB7XG4gICAgICBpZiAoIXRoaXNbbmFtZV0pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmltcGxlbWVudGVkICR7bmFtZX0gb24gVGVtcGxhdGVDb21waWxlcmApO1xuICAgICAgfVxuICAgICAgKHRoaXNbbmFtZV0gYXMgYW55KSguLi5hcmdzKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy5vcGNvZGVzO1xuICB9XG5cbiAgc3RhcnRQcm9ncmFtKFtwcm9ncmFtXTogW0FTVC5UZW1wbGF0ZV0pIHtcbiAgICB0aGlzLm9wY29kZShbJ3N0YXJ0UHJvZ3JhbScsIHByb2dyYW1dLCBwcm9ncmFtKTtcbiAgfVxuXG4gIGVuZFByb2dyYW0oKSB7XG4gICAgdGhpcy5vcGNvZGUoWydlbmRQcm9ncmFtJywgbnVsbF0sIG51bGwpO1xuICB9XG5cbiAgc3RhcnRCbG9jayhbcHJvZ3JhbV06IFtBU1QuQmxvY2tdKSB7XG4gICAgdGhpcy50ZW1wbGF0ZUlkKys7XG4gICAgdGhpcy5vcGNvZGUoWydzdGFydEJsb2NrJywgcHJvZ3JhbV0sIHByb2dyYW0pO1xuICB9XG5cbiAgZW5kQmxvY2soKSB7XG4gICAgdGhpcy50ZW1wbGF0ZUlkcy5wdXNoKHRoaXMudGVtcGxhdGVJZCAtIDEpO1xuICAgIHRoaXMub3Bjb2RlKFsnZW5kQmxvY2snLCBudWxsXSwgbnVsbCk7XG4gIH1cblxuICB0ZXh0KFthY3Rpb25dOiBbQVNULlRleHROb2RlXSkge1xuICAgIHRoaXMub3Bjb2RlKFsndGV4dCcsIGFjdGlvbi5jaGFyc10sIGFjdGlvbik7XG4gIH1cblxuICBjb21tZW50KFthY3Rpb25dOiBbQVNULkNvbW1lbnRTdGF0ZW1lbnRdKSB7XG4gICAgdGhpcy5vcGNvZGUoWydjb21tZW50JywgYWN0aW9uLnZhbHVlXSwgYWN0aW9uKTtcbiAgfVxuXG4gIG9wZW5FbGVtZW50KFthY3Rpb25dOiBbQVNULkVsZW1lbnROb2RlXSkge1xuICAgIGxldCBhdHRyaWJ1dGVzID0gYWN0aW9uLmF0dHJpYnV0ZXM7XG4gICAgbGV0IHNpbXBsZSA9IHRydWU7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF0dHJpYnV0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBhdHRyID0gYXR0cmlidXRlc1tpXTtcbiAgICAgIGlmIChhdHRyLm5hbWUgPT09ICcuLi5hdHRyaWJ1dGVzJykge1xuICAgICAgICBzaW1wbGUgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGFjdGlvbi5tb2RpZmllcnMubGVuZ3RoID4gMCkge1xuICAgICAgc2ltcGxlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgbGV0IGFjdGlvbklzQ29tcG9uZW50ID0gZmFsc2U7XG5cbiAgICBpZiAoaXNEeW5hbWljQ29tcG9uZW50KGFjdGlvbikpIHtcbiAgICAgIGxldCBoZWFkOiBQYXRoSGVhZCwgcmVzdDogc3RyaW5nW107XG4gICAgICBbaGVhZCwgLi4ucmVzdF0gPSBhY3Rpb24udGFnLnNwbGl0KCcuJyk7XG4gICAgICBpZiAoaGVhZCA9PT0gJ3RoaXMnKSB7XG4gICAgICAgIGhlYWQgPSAwO1xuICAgICAgfVxuICAgICAgdGhpcy5vcGNvZGUoWydnZXQnLCBbaGVhZCwgcmVzdF1dKTtcbiAgICAgIHRoaXMub3Bjb2RlKFsnb3BlbkNvbXBvbmVudCcsIGFjdGlvbl0sIGFjdGlvbik7XG4gICAgICBhY3Rpb25Jc0NvbXBvbmVudCA9IHRydWU7XG4gICAgfSBlbHNlIGlmIChpc05hbWVkQmxvY2soYWN0aW9uKSkge1xuICAgICAgdGhpcy5vcGNvZGUoWydvcGVuTmFtZWRCbG9jaycsIGFjdGlvbl0sIGFjdGlvbik7XG4gICAgfSBlbHNlIGlmIChpc0NvbXBvbmVudChhY3Rpb24pKSB7XG4gICAgICB0aGlzLm9wY29kZShbJ29wZW5Db21wb25lbnQnLCBhY3Rpb25dLCBhY3Rpb24pO1xuICAgICAgYWN0aW9uSXNDb21wb25lbnQgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm9wY29kZShbJ29wZW5FbGVtZW50JywgW2FjdGlvbiwgc2ltcGxlXV0sIGFjdGlvbik7XG4gICAgfVxuXG4gICAgaWYgKCFpc05hbWVkQmxvY2soYWN0aW9uKSkge1xuICAgICAgLy8gVE9ETzogQXNzZXJ0IG5vIGF0dHJpYnV0ZXNcbiAgICAgIGxldCB0eXBlQXR0cjogT3B0aW9uPEFTVC5BdHRyTm9kZT4gPSBudWxsO1xuICAgICAgbGV0IGF0dHJzID0gYWN0aW9uLmF0dHJpYnV0ZXM7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF0dHJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChhdHRyc1tpXS5uYW1lID09PSAndHlwZScpIHtcbiAgICAgICAgICB0eXBlQXR0ciA9IGF0dHJzW2ldO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYXR0cmlidXRlKFthdHRyc1tpXV0sICFzaW1wbGUgfHwgYWN0aW9uSXNDb21wb25lbnQpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZUF0dHIpIHtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGUoW3R5cGVBdHRyXSwgIXNpbXBsZSB8fCBhY3Rpb25Jc0NvbXBvbmVudCk7XG4gICAgICB9XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWN0aW9uLm1vZGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLm1vZGlmaWVyKFthY3Rpb24ubW9kaWZpZXJzW2ldXSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMub3Bjb2RlKFsnZmx1c2hFbGVtZW50JywgYWN0aW9uXSwgbnVsbCk7XG4gICAgfVxuICB9XG5cbiAgY2xvc2VFbGVtZW50KFthY3Rpb25dOiBbQVNULkVsZW1lbnROb2RlXSkge1xuICAgIGlmIChpc05hbWVkQmxvY2soYWN0aW9uKSkge1xuICAgICAgdGhpcy5vcGNvZGUoWydjbG9zZU5hbWVkQmxvY2snLCBhY3Rpb25dKTtcbiAgICB9IGVsc2UgaWYgKGlzRHluYW1pY0NvbXBvbmVudChhY3Rpb24pKSB7XG4gICAgICB0aGlzLm9wY29kZShbJ2Nsb3NlRHluYW1pY0NvbXBvbmVudCcsIGFjdGlvbl0sIGFjdGlvbik7XG4gICAgfSBlbHNlIGlmIChpc0NvbXBvbmVudChhY3Rpb24pKSB7XG4gICAgICB0aGlzLm9wY29kZShbJ2Nsb3NlQ29tcG9uZW50JywgYWN0aW9uXSwgYWN0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5vcGNvZGUoWydjbG9zZUVsZW1lbnQnLCBhY3Rpb25dLCBhY3Rpb24pO1xuICAgIH1cbiAgfVxuXG4gIGF0dHJpYnV0ZShbYWN0aW9uXTogW0FTVC5BdHRyTm9kZV0sIGlzQ29tcG9uZW50OiBib29sZWFuKSB7XG4gICAgbGV0IHsgbmFtZSwgdmFsdWUgfSA9IGFjdGlvbjtcblxuICAgIGxldCBuYW1lc3BhY2UgPSBnZXRBdHRyTmFtZXNwYWNlKG5hbWUpO1xuICAgIGxldCBpc1N0YXRpYyA9IHRoaXMucHJlcGFyZUF0dHJpYnV0ZVZhbHVlKHZhbHVlKTtcblxuICAgIGlmIChuYW1lLmNoYXJBdCgwKSA9PT0gJ0AnKSB7XG4gICAgICAvLyBBcmd1bWVudHNcbiAgICAgIGlmIChpc1N0YXRpYykge1xuICAgICAgICB0aGlzLm9wY29kZShbJ3N0YXRpY0FyZycsIG5hbWVdLCBhY3Rpb24pO1xuICAgICAgfSBlbHNlIGlmIChhY3Rpb24udmFsdWUudHlwZSA9PT0gJ011c3RhY2hlU3RhdGVtZW50Jykge1xuICAgICAgICB0aGlzLm9wY29kZShbJ2R5bmFtaWNBcmcnLCBuYW1lXSwgYWN0aW9uKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMub3Bjb2RlKFsnZHluYW1pY0FyZycsIG5hbWVdLCBhY3Rpb24pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgaXNUcnVzdGluZyA9IGlzVHJ1c3RlZFZhbHVlKHZhbHVlKTtcblxuICAgICAgaWYgKGlzU3RhdGljICYmIG5hbWUgPT09ICcuLi5hdHRyaWJ1dGVzJykge1xuICAgICAgICB0aGlzLm9wY29kZShbJ2F0dHJTcGxhdCcsIG51bGxdLCBhY3Rpb24pO1xuICAgICAgfSBlbHNlIGlmIChpc1N0YXRpYyAmJiAhaXNDb21wb25lbnQpIHtcbiAgICAgICAgdGhpcy5vcGNvZGUoWydzdGF0aWNBdHRyJywgW25hbWUsIG5hbWVzcGFjZV1dLCBhY3Rpb24pO1xuICAgICAgfSBlbHNlIGlmIChpc1RydXN0aW5nKSB7XG4gICAgICAgIHRoaXMub3Bjb2RlKFxuICAgICAgICAgIFtpc0NvbXBvbmVudCA/ICd0cnVzdGluZ0NvbXBvbmVudEF0dHInIDogJ3RydXN0aW5nQXR0cicsIFtuYW1lLCBuYW1lc3BhY2VdXSxcbiAgICAgICAgICBhY3Rpb25cbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAoYWN0aW9uLnZhbHVlLnR5cGUgPT09ICdNdXN0YWNoZVN0YXRlbWVudCcpIHtcbiAgICAgICAgdGhpcy5vcGNvZGUoW2lzQ29tcG9uZW50ID8gJ2NvbXBvbmVudEF0dHInIDogJ2R5bmFtaWNBdHRyJywgW25hbWUsIG5hbWVzcGFjZV1dLCBhY3Rpb24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5vcGNvZGUoW2lzQ29tcG9uZW50ID8gJ2NvbXBvbmVudEF0dHInIDogJ2R5bmFtaWNBdHRyJywgW25hbWUsIG5hbWVzcGFjZV1dLCBhY3Rpb24pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG1vZGlmaWVyKFthY3Rpb25dOiBbQVNULkVsZW1lbnRNb2RpZmllclN0YXRlbWVudF0pIHtcbiAgICBhc3NlcnRJc1NpbXBsZVBhdGgoYWN0aW9uLnBhdGgsIGFjdGlvbi5sb2MsICdtb2RpZmllcicpO1xuXG4gICAgbGV0IHtcbiAgICAgIHBhdGg6IHsgcGFydHMgfSxcbiAgICB9ID0gYWN0aW9uO1xuXG4gICAgdGhpcy5wcmVwYXJlSGVscGVyKGFjdGlvbik7XG4gICAgdGhpcy5vcGNvZGUoWydtb2RpZmllcicsIHBhcnRzWzBdXSwgYWN0aW9uKTtcbiAgfVxuXG4gIG11c3RhY2hlKFthY3Rpb25dOiBbQVNULk11c3RhY2hlU3RhdGVtZW50XSkge1xuICAgIGxldCB7IHBhdGggfSA9IGFjdGlvbjtcblxuICAgIGlmIChpc0xpdGVyYWwocGF0aCkpIHtcbiAgICAgIHRoaXMubXVzdGFjaGVFeHByZXNzaW9uKGFjdGlvbik7XG4gICAgICB0aGlzLm9wY29kZShbJ2FwcGVuZCcsICFhY3Rpb24uZXNjYXBlZF0sIGFjdGlvbik7XG4gICAgfSBlbHNlIGlmIChpc1lpZWxkKHBhdGgpKSB7XG4gICAgICBsZXQgdG8gPSBhc3NlcnRWYWxpZFlpZWxkKGFjdGlvbik7XG4gICAgICB0aGlzLnlpZWxkKHRvLCBhY3Rpb24pO1xuICAgIH0gZWxzZSBpZiAoaXNQYXJ0aWFsKHBhdGgpKSB7XG4gICAgICBsZXQgcGFyYW1zID0gYXNzZXJ0VmFsaWRQYXJ0aWFsKGFjdGlvbik7XG4gICAgICB0aGlzLnBhcnRpYWwocGFyYW1zLCBhY3Rpb24pO1xuICAgIH0gZWxzZSBpZiAoaXNEZWJ1Z2dlcihwYXRoKSkge1xuICAgICAgYXNzZXJ0VmFsaWREZWJ1Z2dlclVzYWdlKGFjdGlvbik7XG4gICAgICB0aGlzLmRlYnVnZ2VyKCdkZWJ1Z2dlcicsIGFjdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubXVzdGFjaGVFeHByZXNzaW9uKGFjdGlvbik7XG4gICAgICB0aGlzLm9wY29kZShbJ2FwcGVuZCcsICFhY3Rpb24uZXNjYXBlZF0sIGFjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgYmxvY2soW2FjdGlvbiAvKiwgaW5kZXgsIGNvdW50Ki9dOiBbQVNULkJsb2NrU3RhdGVtZW50XSkge1xuICAgIHRoaXMucHJlcGFyZUhlbHBlcihhY3Rpb24pO1xuICAgIGxldCB0ZW1wbGF0ZUlkID0gdGhpcy50ZW1wbGF0ZUlkcy5wb3AoKSE7XG4gICAgbGV0IGludmVyc2VJZCA9IGFjdGlvbi5pbnZlcnNlID09PSBudWxsID8gbnVsbCA6IHRoaXMudGVtcGxhdGVJZHMucG9wKCkhO1xuICAgIHRoaXMub3Bjb2RlKFsnYmxvY2snLCBbYWN0aW9uLnBhdGgucGFydHNbMF0sIHRlbXBsYXRlSWQsIGludmVyc2VJZF1dLCBhY3Rpb24pO1xuICB9XG5cbiAgLy8vIEludGVybmFsIGFjdGlvbnMsIG5vdCBmb3VuZCBpbiB0aGUgb3JpZ2luYWwgcHJvY2Vzc2VkIGFjdGlvbnNcblxuICBhcmcoW3BhdGhdOiBbQVNULlBhdGhFeHByZXNzaW9uXSkge1xuICAgIGxldCB7XG4gICAgICBwYXJ0czogW2hlYWQsIC4uLnJlc3RdLFxuICAgIH0gPSBwYXRoO1xuICAgIHRoaXMub3Bjb2RlKFsnZ2V0JywgW2BAJHtoZWFkfWAsIHJlc3RdXSwgcGF0aCk7XG4gIH1cblxuICBtdXN0YWNoZUV4cHJlc3Npb24oZXhwcjogQVNULk11c3RhY2hlU3RhdGVtZW50KSB7XG4gICAgbGV0IHsgcGF0aCB9ID0gZXhwcjtcblxuICAgIGlmIChpc0xpdGVyYWwocGF0aCkpIHtcbiAgICAgIHRoaXMub3Bjb2RlKFsnbGl0ZXJhbCcsIHBhdGgudmFsdWVdLCBleHByKTtcbiAgICB9IGVsc2UgaWYgKGlzQnVpbHRJbkhlbHBlcihwYXRoKSkge1xuICAgICAgdGhpcy5idWlsdEluSGVscGVyKGV4cHIgYXMgQVNULkNhbGwpO1xuICAgIH0gZWxzZSBpZiAoaXNBcmcocGF0aCkpIHtcbiAgICAgIHRoaXMuYXJnKFtwYXRoXSk7XG4gICAgfSBlbHNlIGlmIChpc0hlbHBlckludm9jYXRpb24oZXhwcikpIHtcbiAgICAgIHRoaXMucHJlcGFyZUhlbHBlcihleHByKTtcbiAgICAgIHRoaXMub3Bjb2RlKFsnaGVscGVyJywgcGF0aC5wYXJ0c1swXV0sIGV4cHIpO1xuICAgIH0gZWxzZSBpZiAocGF0aC50aGlzKSB7XG4gICAgICB0aGlzLm9wY29kZShbJ2dldCcsIFswLCBwYXRoLnBhcnRzXV0sIGV4cHIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgW2hlYWQsIC4uLnBhcnRzXSA9IHBhdGgucGFydHM7XG4gICAgICB0aGlzLm9wY29kZShbJ21heWJlR2V0JywgW2hlYWQsIHBhcnRzXV0sIGV4cHIpO1xuICAgIH1cblxuICAgIC8vIH0gZWxzZSBpZiAoaXNMb2NhbChwYXRoLCB0aGlzLnN5bWJvbHMpKSB7XG4gICAgLy8gICBsZXQgW2hlYWQsIC4uLnBhcnRzXSA9IHBhdGgucGFydHM7XG4gICAgLy8gICB0aGlzLm9wY29kZShbJ2dldCcsIFtoZWFkLCBwYXJ0c11dLCBleHByKTtcbiAgICAvLyB9IGVsc2UgaWYgKGlzU2ltcGxlUGF0aChwYXRoKSkge1xuICAgIC8vICAgdGhpcy5vcGNvZGUoWyd1bmtub3duJywgcGF0aC5wYXJ0c1swXV0sIGV4cHIpO1xuICAgIC8vIH0gZWxzZSB7XG4gICAgLy8gICB0aGlzLm9wY29kZShbJ21heWJlTG9jYWwnLCBwYXRoLnBhcnRzXSwgZXhwcik7XG4gICAgLy8gfVxuICB9XG5cbiAgLy8vIEludGVybmFsIFN5bnRheFxuXG4gIHlpZWxkKHRvOiBzdHJpbmcsIGFjdGlvbjogQVNULk11c3RhY2hlU3RhdGVtZW50KSB7XG4gICAgdGhpcy5wcmVwYXJlUGFyYW1zKGFjdGlvbi5wYXJhbXMpO1xuICAgIHRoaXMub3Bjb2RlKFsneWllbGQnLCB0b10sIGFjdGlvbik7XG4gIH1cblxuICBkZWJ1Z2dlcihfbmFtZTogc3RyaW5nLCBhY3Rpb246IEFTVC5NdXN0YWNoZVN0YXRlbWVudCkge1xuICAgIHRoaXMub3Bjb2RlKFsnZGVidWdnZXInLCBudWxsXSwgYWN0aW9uKTtcbiAgfVxuXG4gIGhhc0Jsb2NrKG5hbWU6IHN0cmluZywgYWN0aW9uOiBBU1QuQ2FsbCkge1xuICAgIHRoaXMub3Bjb2RlKFsnaGFzQmxvY2snLCBuYW1lXSwgYWN0aW9uKTtcbiAgfVxuXG4gIGhhc0Jsb2NrUGFyYW1zKG5hbWU6IHN0cmluZywgYWN0aW9uOiBBU1QuQ2FsbCkge1xuICAgIHRoaXMub3Bjb2RlKFsnaGFzQmxvY2tQYXJhbXMnLCBuYW1lXSwgYWN0aW9uKTtcbiAgfVxuXG4gIHBhcnRpYWwoX3BhcmFtczogQVNULkV4cHJlc3Npb25bXSwgYWN0aW9uOiBBU1QuTXVzdGFjaGVTdGF0ZW1lbnQpIHtcbiAgICB0aGlzLnByZXBhcmVQYXJhbXMoYWN0aW9uLnBhcmFtcyk7XG4gICAgdGhpcy5vcGNvZGUoWydwYXJ0aWFsJywgbnVsbF0sIGFjdGlvbik7XG4gIH1cblxuICBidWlsdEluSGVscGVyKGV4cHI6IEFTVC5DYWxsKSB7XG4gICAgbGV0IHsgcGF0aCB9ID0gZXhwcjtcbiAgICBpZiAoaXNIYXNCbG9jayhwYXRoKSkge1xuICAgICAgbGV0IG5hbWUgPSBhc3NlcnRWYWxpZEhhc0Jsb2NrVXNhZ2UoZXhwci5wYXRoLm9yaWdpbmFsLCBleHByKTtcbiAgICAgIHRoaXMuaGFzQmxvY2sobmFtZSwgZXhwcik7XG4gICAgfSBlbHNlIGlmIChpc0hhc0Jsb2NrUGFyYW1zKHBhdGgpKSB7XG4gICAgICBsZXQgbmFtZSA9IGFzc2VydFZhbGlkSGFzQmxvY2tVc2FnZShleHByLnBhdGgub3JpZ2luYWwsIGV4cHIpO1xuICAgICAgdGhpcy5oYXNCbG9ja1BhcmFtcyhuYW1lLCBleHByKTtcbiAgICB9XG4gIH1cblxuICAvLy8gRXhwcmVzc2lvbnMsIGludm9rZWQgcmVjdXJzaXZlbHkgZnJvbSBwcmVwYXJlUGFyYW1zIGFuZCBwcmVwYXJlSGFzaFxuXG4gIFN1YkV4cHJlc3Npb24oZXhwcjogQVNULlN1YkV4cHJlc3Npb24pIHtcbiAgICBpZiAoaXNCdWlsdEluSGVscGVyKGV4cHIucGF0aCkpIHtcbiAgICAgIHRoaXMuYnVpbHRJbkhlbHBlcihleHByKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wcmVwYXJlSGVscGVyKGV4cHIpO1xuICAgICAgdGhpcy5vcGNvZGUoWydoZWxwZXInLCBleHByLnBhdGgucGFydHNbMF1dLCBleHByKTtcbiAgICB9XG4gIH1cblxuICBQYXRoRXhwcmVzc2lvbihleHByOiBBU1QuUGF0aEV4cHJlc3Npb24pIHtcbiAgICBpZiAoZXhwci5kYXRhKSB7XG4gICAgICB0aGlzLmFyZyhbZXhwcl0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgW2hlYWQsIC4uLnJlc3RdID0gZXhwci5wYXJ0cztcblxuICAgICAgaWYgKGV4cHIudGhpcykge1xuICAgICAgICB0aGlzLm9wY29kZShbJ2dldCcsIFswLCBleHByLnBhcnRzXV0sIGV4cHIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5vcGNvZGUoWydnZXQnLCBbaGVhZCwgcmVzdF1dLCBleHByKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBTdHJpbmdMaXRlcmFsKGFjdGlvbjogQVNULlN0cmluZ0xpdGVyYWwpIHtcbiAgICB0aGlzLm9wY29kZShbJ2xpdGVyYWwnLCBhY3Rpb24udmFsdWVdLCBhY3Rpb24pO1xuICB9XG5cbiAgQm9vbGVhbkxpdGVyYWwoYWN0aW9uOiBBU1QuQm9vbGVhbkxpdGVyYWwpIHtcbiAgICB0aGlzLm9wY29kZShbJ2xpdGVyYWwnLCBhY3Rpb24udmFsdWVdLCBhY3Rpb24pO1xuICB9XG5cbiAgTnVtYmVyTGl0ZXJhbChhY3Rpb246IEFTVC5OdW1iZXJMaXRlcmFsKSB7XG4gICAgdGhpcy5vcGNvZGUoWydsaXRlcmFsJywgYWN0aW9uLnZhbHVlXSwgYWN0aW9uKTtcbiAgfVxuXG4gIE51bGxMaXRlcmFsKGFjdGlvbjogQVNULk51bGxMaXRlcmFsKSB7XG4gICAgdGhpcy5vcGNvZGUoWydsaXRlcmFsJywgYWN0aW9uLnZhbHVlXSwgYWN0aW9uKTtcbiAgfVxuXG4gIFVuZGVmaW5lZExpdGVyYWwoYWN0aW9uOiBBU1QuVW5kZWZpbmVkTGl0ZXJhbCkge1xuICAgIHRoaXMub3Bjb2RlKFsnbGl0ZXJhbCcsIGFjdGlvbi52YWx1ZV0sIGFjdGlvbik7XG4gIH1cblxuICAvLy8gVXRpbGl0aWVzXG5cbiAgb3Bjb2RlPE8gZXh0ZW5kcyBTeW1ib2xJbk9wPihvcGNvZGU6IE8sIGFjdGlvbjogT3B0aW9uPEFTVC5CYXNlTm9kZT4gPSBudWxsKSB7XG4gICAgLy8gVE9ETzogVGhpcyBkb2Vzbid0IHJlYWxseSB3b3JrXG4gICAgaWYgKHRoaXMuaW5jbHVkZU1ldGEgJiYgYWN0aW9uKSB7XG4gICAgICAob3Bjb2RlIGFzIGFueSkucHVzaCh0aGlzLm1ldGEoYWN0aW9uKSk7XG4gICAgfVxuXG4gICAgdGhpcy5vcGNvZGVzLnB1c2gob3Bjb2RlKTtcbiAgfVxuXG4gIHByZXBhcmVIZWxwZXIoZXhwcjogQVNULkNhbGwpIHtcbiAgICBhc3NlcnRJc1NpbXBsZVBhdGgoZXhwci5wYXRoLCBleHByLmxvYywgJ2hlbHBlcicpO1xuXG4gICAgbGV0IHsgcGFyYW1zLCBoYXNoIH0gPSBleHByO1xuXG4gICAgdGhpcy5wcmVwYXJlSGFzaChoYXNoKTtcbiAgICB0aGlzLnByZXBhcmVQYXJhbXMocGFyYW1zKTtcbiAgfVxuXG4gIHByZXBhcmVQYXJhbXMocGFyYW1zOiBBU1QuRXhwcmVzc2lvbltdKSB7XG4gICAgaWYgKCFwYXJhbXMubGVuZ3RoKSB7XG4gICAgICB0aGlzLm9wY29kZShbJ2xpdGVyYWwnLCBudWxsXSwgbnVsbCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IHBhcmFtcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgbGV0IHBhcmFtID0gcGFyYW1zW2ldO1xuXG4gICAgICBhc3NlcnQodGhpc1twYXJhbS50eXBlXSwgYFVuaW1wbGVtZW50ZWQgJHtwYXJhbS50eXBlfSBvbiBUZW1wbGF0ZUNvbXBpbGVyYCk7XG4gICAgICAodGhpc1twYXJhbS50eXBlXSBhcyBhbnkpKHBhcmFtKTtcbiAgICB9XG5cbiAgICB0aGlzLm9wY29kZShbJ3ByZXBhcmVBcnJheScsIHBhcmFtcy5sZW5ndGhdLCBudWxsKTtcbiAgfVxuXG4gIHByZXBhcmVIYXNoKGhhc2g6IEFTVC5IYXNoKSB7XG4gICAgbGV0IHBhaXJzID0gaGFzaC5wYWlycztcblxuICAgIGlmICghcGFpcnMubGVuZ3RoKSB7XG4gICAgICB0aGlzLm9wY29kZShbJ2xpdGVyYWwnLCBudWxsXSwgbnVsbCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IHBhaXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBsZXQgeyBrZXksIHZhbHVlIH0gPSBwYWlyc1tpXTtcblxuICAgICAgYXNzZXJ0KHRoaXNbdmFsdWUudHlwZV0sIGBVbmltcGxlbWVudGVkICR7dmFsdWUudHlwZX0gb24gVGVtcGxhdGVDb21waWxlcmApO1xuICAgICAgKHRoaXNbdmFsdWUudHlwZV0gYXMgYW55KSh2YWx1ZSk7XG4gICAgICB0aGlzLm9wY29kZShbJ2xpdGVyYWwnLCBrZXldLCBudWxsKTtcbiAgICB9XG5cbiAgICB0aGlzLm9wY29kZShbJ3ByZXBhcmVPYmplY3QnLCBwYWlycy5sZW5ndGhdLCBudWxsKTtcbiAgfVxuXG4gIHByZXBhcmVBdHRyaWJ1dGVWYWx1ZSh2YWx1ZTogQVNULkF0dHJOb2RlWyd2YWx1ZSddKTogdmFsdWUgaXMgQVNULlRleHROb2RlIHtcbiAgICAvLyByZXR1cm5zIHRoZSBzdGF0aWMgdmFsdWUgaWYgdGhlIHZhbHVlIGlzIHN0YXRpY1xuXG4gICAgc3dpdGNoICh2YWx1ZS50eXBlKSB7XG4gICAgICBjYXNlICdUZXh0Tm9kZSc6XG4gICAgICAgIHRoaXMub3Bjb2RlKFsnbGl0ZXJhbCcsIHZhbHVlLmNoYXJzXSwgdmFsdWUpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGNhc2UgJ011c3RhY2hlU3RhdGVtZW50JzpcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVNdXN0YWNoZShbdmFsdWVdKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgY2FzZSAnQ29uY2F0U3RhdGVtZW50JzpcbiAgICAgICAgdGhpcy5wcmVwYXJlQ29uY2F0UGFydHModmFsdWUucGFydHMpO1xuICAgICAgICB0aGlzLm9wY29kZShbJ2NvbmNhdCcsIG51bGxdLCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBwcmVwYXJlQ29uY2F0UGFydHMocGFydHM6IEFTVC5Db25jYXRTdGF0ZW1lbnRbJ3BhcnRzJ10pIHtcbiAgICBmb3IgKGxldCBpID0gcGFydHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGxldCBwYXJ0ID0gcGFydHNbaV07XG5cbiAgICAgIGlmIChwYXJ0LnR5cGUgPT09ICdNdXN0YWNoZVN0YXRlbWVudCcpIHtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVNdXN0YWNoZShbcGFydF0pO1xuICAgICAgfSBlbHNlIGlmIChwYXJ0LnR5cGUgPT09ICdUZXh0Tm9kZScpIHtcbiAgICAgICAgdGhpcy5vcGNvZGUoWydsaXRlcmFsJywgcGFydC5jaGFyc10sIG51bGwpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMub3Bjb2RlKFsncHJlcGFyZUFycmF5JywgcGFydHMubGVuZ3RoXSwgbnVsbCk7XG4gIH1cblxuICBhdHRyaWJ1dGVNdXN0YWNoZShbYWN0aW9uXTogW0FTVC5NdXN0YWNoZVN0YXRlbWVudF0pIHtcbiAgICB0aGlzLm11c3RhY2hlRXhwcmVzc2lvbihhY3Rpb24pO1xuICB9XG5cbiAgbWV0YShub2RlOiBBU1QuQmFzZU5vZGUpIHtcbiAgICBsZXQgbG9jID0gbm9kZS5sb2M7XG4gICAgaWYgKCFsb2MpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBsZXQgeyBzb3VyY2UsIHN0YXJ0LCBlbmQgfSA9IGxvYztcbiAgICByZXR1cm4gWydsb2MnLCBbc291cmNlIHx8IG51bGwsIFtzdGFydC5saW5lLCBzdGFydC5jb2x1bW5dLCBbZW5kLmxpbmUsIGVuZC5jb2x1bW5dXV07XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNIZWxwZXJJbnZvY2F0aW9uKFxuICBtdXN0YWNoZTogQVNULk11c3RhY2hlU3RhdGVtZW50XG4pOiBtdXN0YWNoZSBpcyBBU1QuTXVzdGFjaGVTdGF0ZW1lbnQgJiB7IHBhdGg6IEFTVC5QYXRoRXhwcmVzc2lvbiB9IHtcbiAgcmV0dXJuIChcbiAgICAobXVzdGFjaGUucGFyYW1zICYmIG11c3RhY2hlLnBhcmFtcy5sZW5ndGggPiAwKSB8fFxuICAgIChtdXN0YWNoZS5oYXNoICYmIG11c3RhY2hlLmhhc2gucGFpcnMubGVuZ3RoID4gMClcbiAgKTtcbn1cblxuZnVuY3Rpb24gaXNTaW1wbGVQYXRoKHsgcGFydHMgfTogQVNULlBhdGhFeHByZXNzaW9uKTogYm9vbGVhbiB7XG4gIHJldHVybiBwYXJ0cy5sZW5ndGggPT09IDE7XG59XG5cbmZ1bmN0aW9uIGlzWWllbGQocGF0aDogQVNULlBhdGhFeHByZXNzaW9uKSB7XG4gIHJldHVybiBwYXRoLm9yaWdpbmFsID09PSAneWllbGQnO1xufVxuXG5mdW5jdGlvbiBpc1BhcnRpYWwocGF0aDogQVNULlBhdGhFeHByZXNzaW9uKSB7XG4gIHJldHVybiBwYXRoLm9yaWdpbmFsID09PSAncGFydGlhbCc7XG59XG5cbmZ1bmN0aW9uIGlzRGVidWdnZXIocGF0aDogQVNULlBhdGhFeHByZXNzaW9uKSB7XG4gIHJldHVybiBwYXRoLm9yaWdpbmFsID09PSAnZGVidWdnZXInO1xufVxuXG5mdW5jdGlvbiBpc0hhc0Jsb2NrKHBhdGg6IEFTVC5QYXRoRXhwcmVzc2lvbikge1xuICByZXR1cm4gcGF0aC5vcmlnaW5hbCA9PT0gJ2hhcy1ibG9jayc7XG59XG5cbmZ1bmN0aW9uIGlzSGFzQmxvY2tQYXJhbXMocGF0aDogQVNULlBhdGhFeHByZXNzaW9uKSB7XG4gIHJldHVybiBwYXRoLm9yaWdpbmFsID09PSAnaGFzLWJsb2NrLXBhcmFtcyc7XG59XG5cbmZ1bmN0aW9uIGlzQnVpbHRJbkhlbHBlcihwYXRoOiBBU1QuUGF0aEV4cHJlc3Npb24pIHtcbiAgcmV0dXJuIGlzSGFzQmxvY2socGF0aCkgfHwgaXNIYXNCbG9ja1BhcmFtcyhwYXRoKTtcbn1cblxuZnVuY3Rpb24gaXNBcmcocGF0aDogQVNULlBhdGhFeHByZXNzaW9uKTogYm9vbGVhbiB7XG4gIHJldHVybiAhIXBhdGhbJ2RhdGEnXTtcbn1cblxuZnVuY3Rpb24gaXNEeW5hbWljQ29tcG9uZW50KGVsZW1lbnQ6IEFTVC5FbGVtZW50Tm9kZSk6IGJvb2xlYW4ge1xuICBsZXQgb3BlbiA9IGVsZW1lbnQudGFnLmNoYXJBdCgwKTtcblxuICBsZXQgW21heWJlTG9jYWxdID0gZWxlbWVudC50YWcuc3BsaXQoJy4nKTtcbiAgbGV0IGlzTmFtZWRBcmd1bWVudCA9IG9wZW4gPT09ICdAJztcbiAgbGV0IGlzTG9jYWwgPSBlbGVtZW50LnN5bWJvbHMhLmhhcyhtYXliZUxvY2FsKTtcbiAgbGV0IGlzVGhpc1BhdGggPSBlbGVtZW50LnRhZy5pbmRleE9mKCd0aGlzLicpID09PSAwO1xuXG4gIHJldHVybiBpc0xvY2FsIHx8IGlzTmFtZWRBcmd1bWVudCB8fCBpc1RoaXNQYXRoO1xufVxuXG5mdW5jdGlvbiBpc0NvbXBvbmVudChlbGVtZW50OiBBU1QuRWxlbWVudE5vZGUpOiBib29sZWFuIHtcbiAgbGV0IG9wZW4gPSBlbGVtZW50LnRhZy5jaGFyQXQoMCk7XG4gIGxldCBpc1BhdGggPSBlbGVtZW50LnRhZy5pbmRleE9mKCcuJykgPiAtMTtcblxuICBsZXQgaXNVcHBlckNhc2UgPSBvcGVuID09PSBvcGVuLnRvVXBwZXJDYXNlKCkgJiYgb3BlbiAhPT0gb3Blbi50b0xvd2VyQ2FzZSgpO1xuXG4gIHJldHVybiAoaXNVcHBlckNhc2UgJiYgIWlzUGF0aCkgfHwgaXNEeW5hbWljQ29tcG9uZW50KGVsZW1lbnQpO1xufVxuXG5mdW5jdGlvbiBpc05hbWVkQmxvY2soZWxlbWVudDogQVNULkVsZW1lbnROb2RlKTogYm9vbGVhbiB7XG4gIGxldCBvcGVuID0gZWxlbWVudC50YWcuY2hhckF0KDApO1xuXG4gIHJldHVybiBvcGVuID09PSAnOic7XG59XG5cbmZ1bmN0aW9uIGFzc2VydElzU2ltcGxlUGF0aChwYXRoOiBBU1QuUGF0aEV4cHJlc3Npb24sIGxvYzogQVNULlNvdXJjZUxvY2F0aW9uLCBjb250ZXh0OiBzdHJpbmcpIHtcbiAgaWYgKCFpc1NpbXBsZVBhdGgocGF0aCkpIHtcbiAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoXG4gICAgICBgXFxgJHtwYXRoLm9yaWdpbmFsfVxcYCBpcyBub3QgYSB2YWxpZCBuYW1lIGZvciBhICR7Y29udGV4dH0gb24gbGluZSAke2xvYy5zdGFydC5saW5lfS5gLFxuICAgICAgcGF0aC5sb2NcbiAgICApO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFzc2VydFZhbGlkWWllbGQoc3RhdGVtZW50OiBBU1QuTXVzdGFjaGVTdGF0ZW1lbnQpOiBzdHJpbmcge1xuICBsZXQgeyBwYWlycyB9ID0gc3RhdGVtZW50Lmhhc2g7XG5cbiAgaWYgKChwYWlycy5sZW5ndGggPT09IDEgJiYgcGFpcnNbMF0ua2V5ICE9PSAndG8nKSB8fCBwYWlycy5sZW5ndGggPiAxKSB7XG4gICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKGB5aWVsZCBvbmx5IHRha2VzIGEgc2luZ2xlIG5hbWVkIGFyZ3VtZW50OiAndG8nYCwgc3RhdGVtZW50LmxvYyk7XG4gIH0gZWxzZSBpZiAocGFpcnMubGVuZ3RoID09PSAxICYmIHBhaXJzWzBdLnZhbHVlLnR5cGUgIT09ICdTdHJpbmdMaXRlcmFsJykge1xuICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihgeW91IGNhbiBvbmx5IHlpZWxkIHRvIGEgbGl0ZXJhbCB2YWx1ZWAsIHN0YXRlbWVudC5sb2MpO1xuICB9IGVsc2UgaWYgKHBhaXJzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiAnZGVmYXVsdCc7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIChwYWlyc1swXS52YWx1ZSBhcyBBU1QuU3RyaW5nTGl0ZXJhbCkudmFsdWU7XG4gIH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0VmFsaWRQYXJ0aWFsKHN0YXRlbWVudDogQVNULk11c3RhY2hlU3RhdGVtZW50KSAvKiA6IGV4cHIgKi8ge1xuICBsZXQgeyBwYXJhbXMsIGhhc2gsIGVzY2FwZWQsIGxvYyB9ID0gc3RhdGVtZW50O1xuXG4gIGlmIChwYXJhbXMgJiYgcGFyYW1zLmxlbmd0aCAhPT0gMSkge1xuICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihcbiAgICAgIGBQYXJ0aWFsIGZvdW5kIHdpdGggbm8gYXJndW1lbnRzLiBZb3UgbXVzdCBzcGVjaWZ5IGEgdGVtcGxhdGUgbmFtZS4gKG9uIGxpbmUgJHtcbiAgICAgICAgbG9jLnN0YXJ0LmxpbmVcbiAgICAgIH0pYCxcbiAgICAgIHN0YXRlbWVudC5sb2NcbiAgICApO1xuICB9IGVsc2UgaWYgKGhhc2ggJiYgaGFzaC5wYWlycy5sZW5ndGggPiAwKSB7XG4gICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKFxuICAgICAgYHBhcnRpYWwgZG9lcyBub3QgdGFrZSBhbnkgbmFtZWQgYXJndW1lbnRzIChvbiBsaW5lICR7bG9jLnN0YXJ0LmxpbmV9KWAsXG4gICAgICBzdGF0ZW1lbnQubG9jXG4gICAgKTtcbiAgfSBlbHNlIGlmICghZXNjYXBlZCkge1xuICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihcbiAgICAgIGB7e3twYXJ0aWFsIC4uLn19fSBpcyBub3Qgc3VwcG9ydGVkLCBwbGVhc2UgdXNlIHt7cGFydGlhbCAuLi59fSBpbnN0ZWFkIChvbiBsaW5lICR7XG4gICAgICAgIGxvYy5zdGFydC5saW5lXG4gICAgICB9KWAsXG4gICAgICBzdGF0ZW1lbnQubG9jXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBwYXJhbXM7XG59XG5cbmZ1bmN0aW9uIGFzc2VydFZhbGlkSGFzQmxvY2tVc2FnZSh0eXBlOiBzdHJpbmcsIGNhbGw6IEFTVC5DYWxsKTogc3RyaW5nIHtcbiAgbGV0IHsgcGFyYW1zLCBoYXNoLCBsb2MgfSA9IGNhbGw7XG5cbiAgaWYgKGhhc2ggJiYgaGFzaC5wYWlycy5sZW5ndGggPiAwKSB7XG4gICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKGAke3R5cGV9IGRvZXMgbm90IHRha2UgYW55IG5hbWVkIGFyZ3VtZW50c2AsIGNhbGwubG9jKTtcbiAgfVxuXG4gIGlmIChwYXJhbXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuICdkZWZhdWx0JztcbiAgfSBlbHNlIGlmIChwYXJhbXMubGVuZ3RoID09PSAxKSB7XG4gICAgbGV0IHBhcmFtID0gcGFyYW1zWzBdO1xuICAgIGlmIChwYXJhbS50eXBlID09PSAnU3RyaW5nTGl0ZXJhbCcpIHtcbiAgICAgIHJldHVybiBwYXJhbS52YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKFxuICAgICAgICBgeW91IGNhbiBvbmx5IHlpZWxkIHRvIGEgbGl0ZXJhbCB2YWx1ZSAob24gbGluZSAke2xvYy5zdGFydC5saW5lfSlgLFxuICAgICAgICBjYWxsLmxvY1xuICAgICAgKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKFxuICAgICAgYCR7dHlwZX0gb25seSB0YWtlcyBhIHNpbmdsZSBwb3NpdGlvbmFsIGFyZ3VtZW50IChvbiBsaW5lICR7bG9jLnN0YXJ0LmxpbmV9KWAsXG4gICAgICBjYWxsLmxvY1xuICAgICk7XG4gIH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0VmFsaWREZWJ1Z2dlclVzYWdlKHN0YXRlbWVudDogQVNULk11c3RhY2hlU3RhdGVtZW50KSB7XG4gIGxldCB7IHBhcmFtcywgaGFzaCB9ID0gc3RhdGVtZW50O1xuXG4gIGlmIChoYXNoICYmIGhhc2gucGFpcnMubGVuZ3RoID4gMCkge1xuICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihgZGVidWdnZXIgZG9lcyBub3QgdGFrZSBhbnkgbmFtZWQgYXJndW1lbnRzYCwgc3RhdGVtZW50LmxvYyk7XG4gIH1cblxuICBpZiAocGFyYW1zLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiAnZGVmYXVsdCc7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKGBkZWJ1Z2dlciBkb2VzIG5vdCB0YWtlIGFueSBwb3NpdGlvbmFsIGFyZ3VtZW50c2AsIHN0YXRlbWVudC5sb2MpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBwcmVwcm9jZXNzIH0gZnJvbSAnQGdsaW1tZXIvc3ludGF4JztcbmltcG9ydCBUZW1wbGF0ZUNvbXBpbGVyLCB7IENvbXBpbGVPcHRpb25zIH0gZnJvbSAnLi90ZW1wbGF0ZS1jb21waWxlcic7XG5pbXBvcnQgeyBPcHRpb24sIFRlbXBsYXRlSmF2YXNjcmlwdCwgU2VyaWFsaXplZFRlbXBsYXRlV2l0aExhenlCbG9jayB9IGZyb20gJ0BnbGltbWVyL2ludGVyZmFjZXMnO1xuaW1wb3J0IHsgUHJlcHJvY2Vzc09wdGlvbnMgfSBmcm9tICdAZ2xpbW1lci9zeW50YXgnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFRlbXBsYXRlSWRGbiB7XG4gIChzcmM6IHN0cmluZyk6IE9wdGlvbjxzdHJpbmc+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFByZWNvbXBpbGVPcHRpb25zIGV4dGVuZHMgQ29tcGlsZU9wdGlvbnMsIFByZXByb2Nlc3NPcHRpb25zIHtcbiAgaWQ/OiBUZW1wbGF0ZUlkRm47XG59XG5cbmRlY2xhcmUgZnVuY3Rpb24gcmVxdWlyZShpZDogc3RyaW5nKTogYW55O1xuXG5leHBvcnQgY29uc3QgZGVmYXVsdElkOiBUZW1wbGF0ZUlkRm4gPSAoKCkgPT4ge1xuICBpZiAodHlwZW9mIHJlcXVpcmUgPT09ICdmdW5jdGlvbicpIHtcbiAgICB0cnkge1xuICAgICAgLyogdHNsaW50OmRpc2FibGU6bm8tcmVxdWlyZS1pbXBvcnRzICovXG4gICAgICBjb25zdCBjcnlwdG8gPSByZXF1aXJlKCdjcnlwdG8nKTtcbiAgICAgIC8qIHRzbGludDplbmFibGU6bm8tcmVxdWlyZS1pbXBvcnRzICovXG5cbiAgICAgIGxldCBpZEZuOiBUZW1wbGF0ZUlkRm4gPSBzcmMgPT4ge1xuICAgICAgICBsZXQgaGFzaCA9IGNyeXB0by5jcmVhdGVIYXNoKCdzaGExJyk7XG4gICAgICAgIGhhc2gudXBkYXRlKHNyYywgJ3V0ZjgnKTtcbiAgICAgICAgLy8gdHJpbSB0byA2IGJ5dGVzIG9mIGRhdGEgKDJeNDggLSAxKVxuICAgICAgICByZXR1cm4gaGFzaC5kaWdlc3QoJ2Jhc2U2NCcpLnN1YnN0cmluZygwLCA4KTtcbiAgICAgIH07XG5cbiAgICAgIGlkRm4oJ3Rlc3QnKTtcblxuICAgICAgcmV0dXJuIGlkRm47XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiBpZEZuKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9O1xufSkoKTtcblxuY29uc3QgZGVmYXVsdE9wdGlvbnM6IFByZWNvbXBpbGVPcHRpb25zID0ge1xuICBpZDogZGVmYXVsdElkLFxuICBtZXRhOiB7fSxcbn07XG5cbi8qXG4gKiBDb21waWxlIGEgc3RyaW5nIGludG8gYSB0ZW1wbGF0ZSBqYXZhc2NyaXB0IHN0cmluZy5cbiAqXG4gKiBFeGFtcGxlIHVzYWdlOlxuICogICAgIGltcG9ydCB7IHByZWNvbXBpbGUgfSBmcm9tICdAZ2xpbW1lci9jb21waWxlcic7XG4gKiAgICAgaW1wb3J0IHsgdGVtcGxhdGVGYWN0b3J5IH0gZnJvbSAnZ2xpbWVyLXJ1bnRpbWUnO1xuICogICAgIGxldCB0ZW1wbGF0ZUpzID0gcHJlY29tcGlsZShcIkhvd2R5IHt7bmFtZX19XCIpO1xuICogICAgIGxldCBmYWN0b3J5ID0gdGVtcGxhdGVGYWN0b3J5KG5ldyBGdW5jdGlvbihcInJldHVybiBcIiArIHRlbXBsYXRlSnMpKCkpO1xuICogICAgIGxldCB0ZW1wbGF0ZSA9IGZhY3RvcnkuY3JlYXRlKGVudik7XG4gKlxuICogQG1ldGhvZCBwcmVjb21waWxlXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIGEgR2xpbW1lciB0ZW1wbGF0ZSBzdHJpbmdcbiAqIEByZXR1cm4ge3N0cmluZ30gYSB0ZW1wbGF0ZSBqYXZhc2NyaXB0IHN0cmluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gcHJlY29tcGlsZShzdHJpbmc6IHN0cmluZywgb3B0aW9ucz86IFByZWNvbXBpbGVPcHRpb25zKTogVGVtcGxhdGVKYXZhc2NyaXB0O1xuZXhwb3J0IGZ1bmN0aW9uIHByZWNvbXBpbGUoXG4gIHN0cmluZzogc3RyaW5nLFxuICBvcHRpb25zOiBQcmVjb21waWxlT3B0aW9ucyA9IGRlZmF1bHRPcHRpb25zXG4pOiBUZW1wbGF0ZUphdmFzY3JpcHQge1xuICBsZXQgYXN0ID0gcHJlcHJvY2VzcyhzdHJpbmcsIG9wdGlvbnMpO1xuICBsZXQgeyBtZXRhIH0gPSBvcHRpb25zO1xuICBsZXQgeyBibG9jayB9ID0gVGVtcGxhdGVDb21waWxlci5jb21waWxlKGFzdCwgb3B0aW9ucyk7XG4gIGxldCBpZEZuID0gb3B0aW9ucy5pZCB8fCBkZWZhdWx0SWQ7XG4gIGxldCBibG9ja0pTT04gPSBKU09OLnN0cmluZ2lmeShibG9jay50b0pTT04oKSk7XG4gIGxldCB0ZW1wbGF0ZUpTT05PYmplY3Q6IFNlcmlhbGl6ZWRUZW1wbGF0ZVdpdGhMYXp5QmxvY2s8dW5rbm93bj4gPSB7XG4gICAgaWQ6IGlkRm4oSlNPTi5zdHJpbmdpZnkobWV0YSkgKyBibG9ja0pTT04pLFxuICAgIGJsb2NrOiBibG9ja0pTT04sXG4gICAgbWV0YSxcbiAgfTtcblxuICAvLyBKU09OIGlzIGphdmFzY3JpcHRcbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRlbXBsYXRlSlNPTk9iamVjdCk7XG59XG4iXSwibmFtZXMiOlsiZGljdCIsInVucmVhY2hhYmxlIiwiRGljdFNldCIsImlzRmx1c2hFbGVtZW50IiwiaXNBcmd1bWVudCIsImlzQXR0cmlidXRlIiwiU3RhY2siLCJpc0xpdGVyYWwiLCJTeW50YXhFcnJvciIsInByZXByb2Nlc3MiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O1FBSU0sV0FBTjtJQUFBO0lBQUE7SUFBQTs7SUFBQSxnQkFDRSxHQURGLGtCQUNZO0lBQ1IsZUFBTyxJQUFQLGtCQUFPLEVBQVA7SUFDRCxLQUhIOztJQUFBLDBCQWVFLEtBZkYsa0JBZUUsTUFmRixFQWV3QjtJQUFBOztJQUNwQixZQUFJLFVBQVUsT0FBQSxHQUFBLENBQVc7SUFBQSxtQkFBUSxNQUFBLFFBQUEsQ0FBakMsSUFBaUMsQ0FBUjtJQUFBLFNBQVgsQ0FBZDtJQUNBLGVBQU8sSUFBQSxnQkFBQSxDQUFBLElBQUEsRUFBQSxNQUFBLEVBQVAsT0FBTyxDQUFQO0lBQ0QsS0FsQkg7O0lBQUE7SUFBQTtBQXFCQSxRQUFNLGtCQUFOO0lBQUE7O0lBQUEsa0NBQUE7SUFBQTs7SUFBQSx5RkFBQTs7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